ARM GAS  /tmp/cchc7McC.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"speed_torq_ctrl.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.STC_Init,"ax",%progbits
  18              		.align	1
  19              		.weak	STC_Init
  20              		.arch armv7e-m
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  24              		.fpu fpv4-sp-d16
  26              	STC_Init:
  27              	.LVL0:
  28              	.LFB1437:
  29              		.file 1 "MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c"
   1:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** /*
   2:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   ******************************************************************************
   3:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @file    speed_torq_ctrl.c
   4:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @author  Motor Control SDK Team, ST Microelectronics
   5:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @brief   This file provides firmware functions that implement the following features
   6:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *          of the Speed & Torque Control component of the Motor Control SDK.
   7:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *
   8:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   ******************************************************************************
   9:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @attention
  10:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *
  11:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * <h2><center>&copy; Copyright (c) 2022 STMicroelectronics.
  12:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * All rights reserved.</center></h2>
  13:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *
  14:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * This software component is licensed by ST under Ultimate Liberty license
  15:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * SLA0044, the "License"; You may not use this file except in compliance with
  16:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * the License. You may obtain a copy of the License at:
  17:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *                             www.st.com/SLA0044
  18:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *
  19:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   ******************************************************************************
  20:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   */
  21:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** 
  22:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** /* Includes ------------------------------------------------------------------*/
  23:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #include "speed_torq_ctrl.h"
  24:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #include "speed_pos_fdbk.h"
  25:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** 
  26:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #include "mc_type.h"
  27:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #include "mc_math.h"
  28:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #include "virtual_speed_sensor.h"
  29:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #include "sto_speed_pos_fdbk.h"
ARM GAS  /tmp/cchc7McC.s 			page 2


  30:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #include "debug_scope.h"
  31:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #include "parameters_conversion.h"
  32:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** 
  33:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** extern VirtualSpeedSensor_Handle_t VirtualSpeedSensorM1;
  34:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** extern DebugScope_Handle_t debugScopeM1; 
  35:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** extern STO_Handle_t STO_M1;
  36:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #define CHECK_BOUNDARY
  37:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** 
  38:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** /** @addtogroup MCSDK
  39:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @{
  40:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   */
  41:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** 
  42:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** /** @defgroup SpeednTorqCtrl Speed & Torque Control
  43:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @brief Speed & Torque Control component of the Motor Control SDK
  44:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *
  45:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @todo Document the Speed & Torque Control "module".
  46:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *
  47:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @{
  48:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   */
  49:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** 
  50:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** /**
  51:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @brief  Initializes all the object variables, usually it has to be called
  52:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         once right after object creation.
  53:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @param  pHandle: handler of the current instance of the SpeednTorqCtrl component
  54:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @param  oPI the PI object used as controller for the speed regulation.
  55:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         It can be equal to MC_NULL if the STC is initialized in torque mode
  56:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         and it will never be configured in speed mode.
  57:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @param  oSPD the speed sensor used to perform the speed regulation.
  58:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         It can be equal to MC_NULL if the STC is used only in torque
  59:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         mode.
  60:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @retval none.
  61:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   */
  62:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** __weak void STC_Init(SpeednTorqCtrl_Handle_t *pHandle, PID_Handle_t *pPI, SpeednPosFdbk_Handle_t *S
  63:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** {
  30              		.loc 1 63 1 view -0
  31              		.cfi_startproc
  32              		@ args = 0, pretend = 0, frame = 0
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  34              		@ link register save eliminated.
  64:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #ifdef NULL_PTR_SPD_TRQ_CTL
  65:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   if (MC_NULL == pHandle)
  66:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   {
  67:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     /* Nothing to do */
  68:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   }
  69:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   else
  70:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   {
  71:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #endif
  72:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     pHandle->PISpeed = pPI;
  35              		.loc 1 72 5 view .LVU1
  36              		.loc 1 72 22 is_stmt 0 view .LVU2
  37 0000 0161     		str	r1, [r0, #16]
  73:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     pHandle->SPD = SPD_Handle;
  38              		.loc 1 73 5 is_stmt 1 view .LVU3
  39              		.loc 1 73 18 is_stmt 0 view .LVU4
  40 0002 4261     		str	r2, [r0, #20]
  74:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     pHandle->Mode = pHandle->ModeDefault;
  41              		.loc 1 74 5 is_stmt 1 view .LVU5
ARM GAS  /tmp/cchc7McC.s 			page 3


  42              		.loc 1 74 28 is_stmt 0 view .LVU6
  43 0004 90F82A30 		ldrb	r3, [r0, #42]	@ zero_extendqisi2
  44              		.loc 1 74 19 view .LVU7
  45 0008 0370     		strb	r3, [r0]
  75:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     pHandle->SpeedRefUnitExt = ((int32_t)pHandle->MecSpeedRefUnitDefault) * 65536;
  46              		.loc 1 75 5 is_stmt 1 view .LVU8
  47              		.loc 1 75 49 is_stmt 0 view .LVU9
  48 000a B0F92C30 		ldrsh	r3, [r0, #44]
  49              		.loc 1 75 75 view .LVU10
  50 000e 1B04     		lsls	r3, r3, #16
  51              		.loc 1 75 30 view .LVU11
  52 0010 4360     		str	r3, [r0, #4]
  76:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     pHandle->TorqueRef = ((int32_t)pHandle->TorqueRefDefault) * 65536;
  53              		.loc 1 76 5 is_stmt 1 view .LVU12
  54              		.loc 1 76 43 is_stmt 0 view .LVU13
  55 0012 B0F92E30 		ldrsh	r3, [r0, #46]
  56              		.loc 1 76 63 view .LVU14
  57 0016 1B04     		lsls	r3, r3, #16
  58              		.loc 1 76 24 view .LVU15
  59 0018 8360     		str	r3, [r0, #8]
  77:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     pHandle->TargetFinal = 0;
  60              		.loc 1 77 5 is_stmt 1 view .LVU16
  61              		.loc 1 77 26 is_stmt 0 view .LVU17
  62 001a 0023     		movs	r3, #0
  63 001c 4380     		strh	r3, [r0, #2]	@ movhi
  78:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     pHandle->RampRemainingStep = 0U;
  64              		.loc 1 78 5 is_stmt 1 view .LVU18
  65              		.loc 1 78 32 is_stmt 0 view .LVU19
  66 001e C360     		str	r3, [r0, #12]
  79:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     pHandle->IncDecAmount = 0;
  67              		.loc 1 79 5 is_stmt 1 view .LVU20
  68              		.loc 1 79 27 is_stmt 0 view .LVU21
  69 0020 8361     		str	r3, [r0, #24]
  80:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #ifdef NULL_PTR_SPD_TRQ_CTL
  81:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   }
  82:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #endif
  83:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** }
  70              		.loc 1 83 1 view .LVU22
  71 0022 7047     		bx	lr
  72              		.cfi_endproc
  73              	.LFE1437:
  75              		.section	.text.STC_SetSpeedSensor,"ax",%progbits
  76              		.align	1
  77              		.weak	STC_SetSpeedSensor
  78              		.syntax unified
  79              		.thumb
  80              		.thumb_func
  81              		.fpu fpv4-sp-d16
  83              	STC_SetSpeedSensor:
  84              	.LVL1:
  85              	.LFB1438:
  84:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** 
  85:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** /**
  86:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @brief It sets in real time the speed sensor utilized by the STC.
  87:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @param  pHandle: handler of the current instance of the SpeednTorqCtrl component
  88:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @param SPD_Handle Speed sensor component to be set.
  89:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @retval none
ARM GAS  /tmp/cchc7McC.s 			page 4


  90:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   */
  91:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** __weak void STC_SetSpeedSensor(SpeednTorqCtrl_Handle_t *pHandle, SpeednPosFdbk_Handle_t *SPD_Handle
  92:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** {
  86              		.loc 1 92 1 is_stmt 1 view -0
  87              		.cfi_startproc
  88              		@ args = 0, pretend = 0, frame = 0
  89              		@ frame_needed = 0, uses_anonymous_args = 0
  90              		@ link register save eliminated.
  93:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #ifdef NULL_PTR_SPD_TRQ_CTL
  94:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   if (MC_NULL == pHandle)
  95:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   {
  96:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     /* Nothing to do */
  97:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   }
  98:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   else
  99:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   {
 100:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #endif
 101:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     pHandle->SPD = SPD_Handle;
  91              		.loc 1 101 5 view .LVU24
  92              		.loc 1 101 18 is_stmt 0 view .LVU25
  93 0000 4161     		str	r1, [r0, #20]
 102:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #ifdef NULL_PTR_SPD_TRQ_CTL
 103:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   }
 104:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #endif
 105:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** }
  94              		.loc 1 105 1 view .LVU26
  95 0002 7047     		bx	lr
  96              		.cfi_endproc
  97              	.LFE1438:
  99              		.section	.text.STC_GetSpeedSensor,"ax",%progbits
 100              		.align	1
 101              		.weak	STC_GetSpeedSensor
 102              		.syntax unified
 103              		.thumb
 104              		.thumb_func
 105              		.fpu fpv4-sp-d16
 107              	STC_GetSpeedSensor:
 108              	.LVL2:
 109              	.LFB1439:
 106:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** 
 107:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** /**
 108:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @brief It returns the speed sensor utilized by the FOC.
 109:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @param  pHandle: handler of the current instance of the SpeednTorqCtrl component
 110:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @retval SpeednPosFdbk_Handle_t speed sensor utilized by the FOC.
 111:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   */
 112:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** __weak SpeednPosFdbk_Handle_t *STC_GetSpeedSensor(SpeednTorqCtrl_Handle_t *pHandle)
 113:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** {
 110              		.loc 1 113 1 is_stmt 1 view -0
 111              		.cfi_startproc
 112              		@ args = 0, pretend = 0, frame = 0
 113              		@ frame_needed = 0, uses_anonymous_args = 0
 114              		@ link register save eliminated.
 114:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #ifdef NULL_PTR_SPD_TRQ_CTL
 115:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   return ((MC_NULL ==  pHandle) ? MC_NULL : pHandle->SPD);
 116:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #else
 117:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   return (pHandle->SPD);
 115              		.loc 1 117 3 view .LVU28
 118:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #endif
ARM GAS  /tmp/cchc7McC.s 			page 5


 119:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** }
 116              		.loc 1 119 1 is_stmt 0 view .LVU29
 117 0000 4069     		ldr	r0, [r0, #20]
 118              	.LVL3:
 119              		.loc 1 119 1 view .LVU30
 120 0002 7047     		bx	lr
 121              		.cfi_endproc
 122              	.LFE1439:
 124              		.section	.text.STC_Clear,"ax",%progbits
 125              		.align	1
 126              		.weak	STC_Clear
 127              		.syntax unified
 128              		.thumb
 129              		.thumb_func
 130              		.fpu fpv4-sp-d16
 132              	STC_Clear:
 133              	.LVL4:
 134              	.LFB1440:
 120:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** 
 121:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** /**
 122:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @brief  It should be called before each motor restart. If STC is set in
 123:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****             speed mode, this method resets the integral term of speed regulator.
 124:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @param  pHandle: handler of the current instance of the SpeednTorqCtrl component
 125:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @retval none.
 126:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   */
 127:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** __weak void STC_Clear(SpeednTorqCtrl_Handle_t *pHandle)
 128:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** {
 135              		.loc 1 128 1 is_stmt 1 view -0
 136              		.cfi_startproc
 137              		@ args = 0, pretend = 0, frame = 0
 138              		@ frame_needed = 0, uses_anonymous_args = 0
 139              		.loc 1 128 1 is_stmt 0 view .LVU32
 140 0000 08B5     		push	{r3, lr}
 141              		.cfi_def_cfa_offset 8
 142              		.cfi_offset 3, -8
 143              		.cfi_offset 14, -4
 129:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #ifdef NULL_PTR_SPD_TRQ_CTL
 130:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   if (MC_NULL == pHandle)
 131:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   {
 132:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     /* Nothing to do */
 133:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   }
 134:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   else
 135:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   {
 136:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #endif
 137:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     if (MCM_SPEED_MODE == pHandle->Mode)
 144              		.loc 1 137 5 is_stmt 1 view .LVU33
 145              		.loc 1 137 34 is_stmt 0 view .LVU34
 146 0002 0378     		ldrb	r3, [r0]	@ zero_extendqisi2
 147              		.loc 1 137 8 view .LVU35
 148 0004 032B     		cmp	r3, #3
 149 0006 00D0     		beq	.L7
 150              	.LVL5:
 151              	.L4:
 138:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     {
 139:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       PID_SetIntegralTerm(pHandle->PISpeed, 0);
 140:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     }
 141:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #ifdef NULL_PTR_SPD_TRQ_CTL
ARM GAS  /tmp/cchc7McC.s 			page 6


 142:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   }
 143:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #endif
 144:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** }
 152              		.loc 1 144 1 view .LVU36
 153 0008 08BD     		pop	{r3, pc}
 154              	.LVL6:
 155              	.L7:
 139:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     }
 156              		.loc 1 139 7 is_stmt 1 view .LVU37
 157 000a 0021     		movs	r1, #0
 158 000c 0069     		ldr	r0, [r0, #16]
 159              	.LVL7:
 139:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     }
 160              		.loc 1 139 7 is_stmt 0 view .LVU38
 161 000e FFF7FEFF 		bl	PID_SetIntegralTerm
 162              	.LVL8:
 163              		.loc 1 144 1 view .LVU39
 164 0012 F9E7     		b	.L4
 165              		.cfi_endproc
 166              	.LFE1440:
 168              		.section	.text.STC_GetMecSpeedRefUnit,"ax",%progbits
 169              		.align	1
 170              		.weak	STC_GetMecSpeedRefUnit
 171              		.syntax unified
 172              		.thumb
 173              		.thumb_func
 174              		.fpu fpv4-sp-d16
 176              	STC_GetMecSpeedRefUnit:
 177              	.LVL9:
 178              	.LFB1441:
 145:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** 
 146:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** /**
 147:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @brief  Get the current mechanical rotor speed reference expressed in tenths
 148:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         of HZ.
 149:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @param  pHandle: handler of the current instance of the SpeednTorqCtrl component
 150:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @retval int16_t current mechanical rotor speed reference expressed in tenths
 151:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         of HZ.
 152:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   */
 153:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** __weak int16_t STC_GetMecSpeedRefUnit(SpeednTorqCtrl_Handle_t *pHandle)
 154:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** {
 179              		.loc 1 154 1 is_stmt 1 view -0
 180              		.cfi_startproc
 181              		@ args = 0, pretend = 0, frame = 0
 182              		@ frame_needed = 0, uses_anonymous_args = 0
 183              		@ link register save eliminated.
 155:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #ifndef FULL_MISRA_C_COMPLIANCY_SPD_TORQ_CTRL
 156:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #ifdef NULL_PTR_SPD_TRQ_CTL
 157:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   //cstat !MISRAC2012-Rule-1.3_n !ATH-shift-neg !MISRAC2012-Rule-10.1_R6
 158:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   return ((MC_NULL == pHandle) ? 0 : (int16_t)(pHandle->SpeedRefUnitExt >> 16));
 159:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #else
 160:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   return ((int16_t)(pHandle->SpeedRefUnitExt >> 16));
 184              		.loc 1 160 3 view .LVU41
 161:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #endif
 162:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #else
 163:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #ifdef NULL_PTR_SPD_TRQ_CTL
 164:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   return ((MC_NULL == pHandle) ? 0 : (int16_t)(pHandle->SpeedRefUnitExt / 65536));
 165:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #else
ARM GAS  /tmp/cchc7McC.s 			page 7


 166:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   return ((int16_t)(pHandle->SpeedRefUnitExt / 65536));
 167:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #endif
 168:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #endif
 169:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** }
 185              		.loc 1 169 1 is_stmt 0 view .LVU42
 186 0000 B0F90600 		ldrsh	r0, [r0, #6]
 187              	.LVL10:
 188              		.loc 1 169 1 view .LVU43
 189 0004 7047     		bx	lr
 190              		.cfi_endproc
 191              	.LFE1441:
 193              		.section	.text.STC_GetTorqueRef,"ax",%progbits
 194              		.align	1
 195              		.weak	STC_GetTorqueRef
 196              		.syntax unified
 197              		.thumb
 198              		.thumb_func
 199              		.fpu fpv4-sp-d16
 201              	STC_GetTorqueRef:
 202              	.LVL11:
 203              	.LFB1442:
 170:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** 
 171:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** /**
 172:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @brief  Get the current motor torque reference. This value represents
 173:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         actually the Iq current reference expressed in digit.
 174:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         To convert current expressed in digit to current expressed in Amps
 175:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         is possible to use the formula:
 176:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         Current(Amp) = [Current(digit) * Vdd micro] / [65536 * Rshunt * Aop]
 177:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @param  pHandle: handler of the current instance of the SpeednTorqCtrl component
 178:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @retval int16_t current motor torque reference. This value represents
 179:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         actually the Iq current expressed in digit.
 180:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   */
 181:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** __weak int16_t STC_GetTorqueRef(SpeednTorqCtrl_Handle_t *pHandle)
 182:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** {
 204              		.loc 1 182 1 is_stmt 1 view -0
 205              		.cfi_startproc
 206              		@ args = 0, pretend = 0, frame = 0
 207              		@ frame_needed = 0, uses_anonymous_args = 0
 208              		@ link register save eliminated.
 183:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #ifndef FULL_MISRA_C_COMPLIANCY_SPD_TORQ_CTRL
 184:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #ifdef NULL_PTR_SPD_TRQ_CTL
 185:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   //cstat !MISRAC2012-Rule-1.3_n !ATH-shift-neg !MISRAC2012-Rule-10.1_R6
 186:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   return ((MC_NULL == pHandle) ? 0 : (int16_t)(pHandle->TorqueRef >> 16));
 187:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #else
 188:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   return ((int16_t)(pHandle->TorqueRef >> 16));
 209              		.loc 1 188 3 view .LVU45
 189:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #endif
 190:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #else
 191:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #ifdef NULL_PTR_SPD_TRQ_CTL
 192:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   return ((MC_NULL == pHandle) ? 0 : (int16_t)(pHandle->TorqueRef / 65536));
 193:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #else
 194:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   return ((int16_t)(pHandle->TorqueRef / 65536));
 195:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #endif
 196:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #endif
 197:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** }
 210              		.loc 1 197 1 is_stmt 0 view .LVU46
 211 0000 B0F90A00 		ldrsh	r0, [r0, #10]
ARM GAS  /tmp/cchc7McC.s 			page 8


 212              	.LVL12:
 213              		.loc 1 197 1 view .LVU47
 214 0004 7047     		bx	lr
 215              		.cfi_endproc
 216              	.LFE1442:
 218              		.section	.text.STC_SetControlMode,"ax",%progbits
 219              		.align	1
 220              		.weak	STC_SetControlMode
 221              		.syntax unified
 222              		.thumb
 223              		.thumb_func
 224              		.fpu fpv4-sp-d16
 226              	STC_SetControlMode:
 227              	.LVL13:
 228              	.LFB1443:
 198:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** 
 199:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** /**
 200:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @brief  Set the modality of the speed and torque controller. Two modality
 201:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         are available Torque mode and Speed mode.
 202:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         In Torque mode is possible to set directly the motor torque
 203:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         reference or execute a motor torque ramp. This value represents
 204:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         actually the Iq current reference expressed in digit.
 205:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         In Speed mode is possible to set the mechanical rotor speed
 206:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         reference or execute a speed ramp. The required motor torque is
 207:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         automatically calculated by the STC.
 208:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         This command interrupts the execution of any previous ramp command
 209:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         maintaining the last value of Iq.
 210:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @param  pHandle: handler of the current instance of the SpeednTorqCtrl component
 211:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @param  bMode modality of STC. It can be one of these two settings:
 212:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         MCM_TORQUE_MODE to enable the Torque mode or MCM_SPEED_MODE to
 213:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         enable the Speed mode.
 214:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @retval none
 215:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   */
 216:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** __weak void STC_SetControlMode(SpeednTorqCtrl_Handle_t *pHandle, MC_ControlMode_t bMode)
 217:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** {
 229              		.loc 1 217 1 is_stmt 1 view -0
 230              		.cfi_startproc
 231              		@ args = 0, pretend = 0, frame = 0
 232              		@ frame_needed = 0, uses_anonymous_args = 0
 233              		@ link register save eliminated.
 218:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #ifdef NULL_PTR_SPD_TRQ_CTL
 219:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   if (MC_NULL == pHandle)
 220:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   {
 221:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     /* Nothing to do */
 222:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   }
 223:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   else
 224:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   {
 225:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #endif
 226:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     pHandle->Mode = bMode;
 234              		.loc 1 226 5 view .LVU49
 235              		.loc 1 226 19 is_stmt 0 view .LVU50
 236 0000 0170     		strb	r1, [r0]
 227:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     pHandle->RampRemainingStep = 0u; /* Interrupts previous ramp. */
 237              		.loc 1 227 5 is_stmt 1 view .LVU51
 238              		.loc 1 227 32 is_stmt 0 view .LVU52
 239 0002 0023     		movs	r3, #0
 240 0004 C360     		str	r3, [r0, #12]
ARM GAS  /tmp/cchc7McC.s 			page 9


 228:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #ifdef NULL_PTR_SPD_TRQ_CTL
 229:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   }
 230:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #endif
 231:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** }
 241              		.loc 1 231 1 view .LVU53
 242 0006 7047     		bx	lr
 243              		.cfi_endproc
 244              	.LFE1443:
 246              		.section	.text.STC_GetControlMode,"ax",%progbits
 247              		.align	1
 248              		.weak	STC_GetControlMode
 249              		.syntax unified
 250              		.thumb
 251              		.thumb_func
 252              		.fpu fpv4-sp-d16
 254              	STC_GetControlMode:
 255              	.LVL14:
 256              	.LFB1444:
 232:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** 
 233:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** /**
 234:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @brief  Get the modality of the speed and torque controller.
 235:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @param  pHandle: handler of the current instance of the SpeednTorqCtrl component
 236:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @retval MC_ControlMode_t It returns the modality of STC. It can be one of
 237:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         these two values: MCM_TORQUE_MODE or MCM_SPEED_MODE.
 238:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   */
 239:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** __weak MC_ControlMode_t STC_GetControlMode(SpeednTorqCtrl_Handle_t *pHandle)
 240:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** {
 257              		.loc 1 240 1 is_stmt 1 view -0
 258              		.cfi_startproc
 259              		@ args = 0, pretend = 0, frame = 0
 260              		@ frame_needed = 0, uses_anonymous_args = 0
 261              		@ link register save eliminated.
 241:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #ifdef NULL_PTR_SPD_TRQ_CTL
 242:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   return ((MC_NULL == pHandle) ? MCM_TORQUE_MODE : pHandle->Mode);
 243:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #else
 244:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   return (pHandle->Mode);
 262              		.loc 1 244 3 view .LVU55
 245:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #endif
 246:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** }
 263              		.loc 1 246 1 is_stmt 0 view .LVU56
 264 0000 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 265              	.LVL15:
 266              		.loc 1 246 1 view .LVU57
 267 0002 7047     		bx	lr
 268              		.cfi_endproc
 269              	.LFE1444:
 271              		.section	.text.STC_ExecRamp,"ax",%progbits
 272              		.align	1
 273              		.weak	STC_ExecRamp
 274              		.syntax unified
 275              		.thumb
 276              		.thumb_func
 277              		.fpu fpv4-sp-d16
 279              	STC_ExecRamp:
 280              	.LVL16:
 281              	.LFB1445:
 247:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** 
ARM GAS  /tmp/cchc7McC.s 			page 10


 248:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** /**
 249:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @brief  Starts the execution of a ramp using new target and duration. This
 250:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         command interrupts the execution of any previous ramp command.
 251:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         The generated ramp will be in the modality previously set by
 252:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         STC_SetControlMode method.
 253:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @param  pHandle: handler of the current instance of the SpeednTorqCtrl component
 254:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @param  hTargetFinal final value of command. This is different accordingly
 255:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         the STC modality.
 256:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         If STC is in Torque mode hTargetFinal is the value of motor torque
 257:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         reference at the end of the ramp. This value represents actually the
 258:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         Iq current expressed in digit.
 259:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         To convert current expressed in Amps to current expressed in digit
 260:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         is possible to use the formula:
 261:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         Current(digit) = [Current(Amp) * 65536 * Rshunt * Aop]  /  Vdd micro
 262:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         If STC is in Speed mode hTargetFinal is the value of mechanical
 263:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         rotor speed reference at the end of the ramp expressed in tenths of
 264:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         HZ.
 265:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @param  hDurationms the duration of the ramp expressed in milliseconds. It
 266:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         is possible to set 0 to perform an instantaneous change in the value.
 267:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @retval bool It return false if the absolute value of hTargetFinal is out of
 268:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         the boundary of the application (Above max application speed or max
 269:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         application torque or below min application speed depending on
 270:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         current modality of TSC) in this case the command is ignored and the
 271:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         previous ramp is not interrupted, otherwise it returns true.
 272:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   */
 273:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** __weak bool STC_ExecRamp(SpeednTorqCtrl_Handle_t *pHandle, int16_t hTargetFinal, uint32_t hDuration
 274:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** {
 282              		.loc 1 274 1 is_stmt 1 view -0
 283              		.cfi_startproc
 284              		@ args = 0, pretend = 0, frame = 0
 285              		@ frame_needed = 0, uses_anonymous_args = 0
 286              		.loc 1 274 1 is_stmt 0 view .LVU59
 287 0000 70B5     		push	{r4, r5, r6, lr}
 288              		.cfi_def_cfa_offset 16
 289              		.cfi_offset 4, -16
 290              		.cfi_offset 5, -12
 291              		.cfi_offset 6, -8
 292              		.cfi_offset 14, -4
 293 0002 0446     		mov	r4, r0
 294 0004 0D46     		mov	r5, r1
 295 0006 1646     		mov	r6, r2
 275:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   bool allowedRange = true;
 296              		.loc 1 275 3 is_stmt 1 view .LVU60
 297              	.LVL17:
 276:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #ifdef NULL_PTR_SPD_TRQ_CTL
 277:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   if (MC_NULL == pHandle)
 278:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   {
 279:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     allowedRange = false;
 280:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   }
 281:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   else
 282:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   {
 283:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #endif
 284:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     uint32_t wAux;
 298              		.loc 1 284 5 view .LVU61
 285:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     int32_t wAux1;
 299              		.loc 1 285 5 view .LVU62
 286:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     int16_t hCurrentReference;
ARM GAS  /tmp/cchc7McC.s 			page 11


 300              		.loc 1 286 5 view .LVU63
 287:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** 
 288:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     /* Check if the hTargetFinal is out of the bound of application. */
 289:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     if (MCM_TORQUE_MODE == pHandle->Mode)
 301              		.loc 1 289 5 view .LVU64
 302              		.loc 1 289 35 is_stmt 0 view .LVU65
 303 0008 0178     		ldrb	r1, [r0]	@ zero_extendqisi2
 304              	.LVL18:
 305              		.loc 1 289 8 view .LVU66
 306 000a 0429     		cmp	r1, #4
 307 000c 11D0     		beq	.L29
 290:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     {
 291:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       hCurrentReference = STC_GetTorqueRef(pHandle);
 292:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #ifdef CHECK_BOUNDARY
 293:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       if ((int32_t)hTargetFinal > (int32_t)pHandle->MaxPositiveTorque)
 294:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       {
 295:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****         allowedRange = false;
 296:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       }
 297:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       if ((int32_t)hTargetFinal < (int32_t)pHandle->MinNegativeTorque)
 298:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       {
 299:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****         allowedRange = false;
 300:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       }
 301:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #endif
 302:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     }
 303:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     else
 304:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     {
 305:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #ifndef FULL_MISRA_C_COMPLIANCY_SPD_TORQ_CTRL
 306:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       //cstat !MISRAC2012-Rule-1.3_n !ATH-shift-neg !MISRAC2012-Rule-10.1_R6
 307:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       hCurrentReference = (int16_t)(pHandle->SpeedRefUnitExt >> 16);
 308              		.loc 1 307 7 is_stmt 1 view .LVU67
 309              		.loc 1 307 25 is_stmt 0 view .LVU68
 310 000e B0F90610 		ldrsh	r1, [r0, #6]
 311              	.LVL19:
 308:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #else
 309:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       hCurrentReference = (int16_t)(pHandle->SpeedRefUnitExt / 65536);
 310:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #endif
 311:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** 
 312:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #ifdef CHECK_BOUNDARY
 313:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       if ((int32_t)hTargetFinal > (int32_t)pHandle->MaxAppPositiveMecSpeedUnit)
 312              		.loc 1 313 7 is_stmt 1 view .LVU69
 313              		.loc 1 313 51 is_stmt 0 view .LVU70
 314 0012 C38B     		ldrh	r3, [r0, #30]
 315              		.loc 1 313 10 view .LVU71
 316 0014 9D42     		cmp	r5, r3
 317 0016 3BDC     		bgt	.L23
 314:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       {
 315:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****         allowedRange = false;
 316:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       }
 317:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       else if (hTargetFinal < pHandle->MinAppNegativeMecSpeedUnit)
 318              		.loc 1 317 12 is_stmt 1 view .LVU72
 319              		.loc 1 317 38 is_stmt 0 view .LVU73
 320 0018 B0F92430 		ldrsh	r3, [r0, #36]
 321              		.loc 1 317 15 view .LVU74
 322 001c AB42     		cmp	r3, r5
 323 001e 39DC     		bgt	.L24
 318:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       {
 319:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****         allowedRange = false;
ARM GAS  /tmp/cchc7McC.s 			page 12


 320:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       }
 321:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       else if ((int32_t)hTargetFinal < (int32_t)pHandle->MinAppPositiveMecSpeedUnit)
 324              		.loc 1 321 12 is_stmt 1 view .LVU75
 325              		.loc 1 321 56 is_stmt 0 view .LVU76
 326 0020 038C     		ldrh	r3, [r0, #32]
 327              		.loc 1 321 15 view .LVU77
 328 0022 9D42     		cmp	r5, r3
 329 0024 14DA     		bge	.L25
 322:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       {
 323:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****         if (hTargetFinal > pHandle->MaxAppNegativeMecSpeedUnit)
 330              		.loc 1 323 9 is_stmt 1 view .LVU78
 331              		.loc 1 323 35 is_stmt 0 view .LVU79
 332 0026 B0F92230 		ldrsh	r3, [r0, #34]
 333              		.loc 1 323 12 view .LVU80
 334 002a AB42     		cmp	r3, r5
 335 002c 34DB     		blt	.L26
 275:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #ifdef NULL_PTR_SPD_TRQ_CTL
 336              		.loc 1 275 8 view .LVU81
 337 002e 0120     		movs	r0, #1
 338              	.LVL20:
 275:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #ifdef NULL_PTR_SPD_TRQ_CTL
 339              		.loc 1 275 8 view .LVU82
 340 0030 0FE0     		b	.L17
 341              	.LVL21:
 342              	.L29:
 291:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #ifdef CHECK_BOUNDARY
 343              		.loc 1 291 7 is_stmt 1 view .LVU83
 291:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #ifdef CHECK_BOUNDARY
 344              		.loc 1 291 27 is_stmt 0 view .LVU84
 345 0032 FFF7FEFF 		bl	STC_GetTorqueRef
 346              	.LVL22:
 291:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #ifdef CHECK_BOUNDARY
 347              		.loc 1 291 27 view .LVU85
 348 0036 0146     		mov	r1, r0
 349              	.LVL23:
 293:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       {
 350              		.loc 1 293 7 is_stmt 1 view .LVU86
 293:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       {
 351              		.loc 1 293 51 is_stmt 0 view .LVU87
 352 0038 E38C     		ldrh	r3, [r4, #38]
 293:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       {
 353              		.loc 1 293 10 view .LVU88
 354 003a 9D42     		cmp	r5, r3
 355 003c 06DC     		bgt	.L21
 275:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #ifdef NULL_PTR_SPD_TRQ_CTL
 356              		.loc 1 275 8 view .LVU89
 357 003e 0120     		movs	r0, #1
 358              	.L14:
 359              	.LVL24:
 297:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       {
 360              		.loc 1 297 7 is_stmt 1 view .LVU90
 297:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       {
 361              		.loc 1 297 51 is_stmt 0 view .LVU91
 362 0040 B4F92830 		ldrsh	r3, [r4, #40]
 297:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       {
 363              		.loc 1 297 10 view .LVU92
 364 0044 AB42     		cmp	r3, r5
ARM GAS  /tmp/cchc7McC.s 			page 13


 365 0046 21DC     		bgt	.L22
 324:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****         {
 325:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****           allowedRange = false;
 326:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****         }
 327:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       }
 328:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       else
 329:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       {
 330:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****         /* Nothing to do */
 331:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       }
 366              		.loc 1 331 7 is_stmt 1 view .LVU93
 332:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #endif
 333:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     }
 334:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** 
 335:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     if (true == allowedRange)
 367              		.loc 1 335 5 view .LVU94
 368              		.loc 1 335 8 is_stmt 0 view .LVU95
 369 0048 18B3     		cbz	r0, .L15
 370 004a 02E0     		b	.L17
 371              	.LVL25:
 372              	.L21:
 295:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       }
 373              		.loc 1 295 22 view .LVU96
 374 004c 0020     		movs	r0, #0
 375 004e F7E7     		b	.L14
 376              	.LVL26:
 377              	.L25:
 275:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #ifdef NULL_PTR_SPD_TRQ_CTL
 378              		.loc 1 275 8 view .LVU97
 379 0050 0120     		movs	r0, #1
 380              	.LVL27:
 381              	.L17:
 336:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     {
 337:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       /* Interrupts the execution of any previous ramp command */
 338:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       if (0U == hDurationms)
 382              		.loc 1 338 7 is_stmt 1 view .LVU98
 383              		.loc 1 338 10 is_stmt 0 view .LVU99
 384 0052 5EB9     		cbnz	r6, .L18
 339:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       {
 340:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****         if (MCM_SPEED_MODE == pHandle->Mode)
 385              		.loc 1 340 9 is_stmt 1 view .LVU100
 386              		.loc 1 340 38 is_stmt 0 view .LVU101
 387 0054 2378     		ldrb	r3, [r4]	@ zero_extendqisi2
 388              		.loc 1 340 12 view .LVU102
 389 0056 032B     		cmp	r3, #3
 390 0058 05D0     		beq	.L30
 341:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****         {
 342:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****           pHandle->SpeedRefUnitExt = ((int32_t)hTargetFinal) * 65536;
 343:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****         }
 344:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****         else
 345:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****         {
 346:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****           pHandle->TorqueRef = ((int32_t)hTargetFinal) * 65536;
 391              		.loc 1 346 11 is_stmt 1 view .LVU103
 392              		.loc 1 346 56 is_stmt 0 view .LVU104
 393 005a 2D04     		lsls	r5, r5, #16
 394              		.loc 1 346 30 view .LVU105
 395 005c A560     		str	r5, [r4, #8]
 396              	.L20:
ARM GAS  /tmp/cchc7McC.s 			page 14


 347:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****         }
 348:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****         pHandle->RampRemainingStep = 0U;
 397              		.loc 1 348 9 is_stmt 1 view .LVU106
 398              		.loc 1 348 36 is_stmt 0 view .LVU107
 399 005e 0023     		movs	r3, #0
 400 0060 E360     		str	r3, [r4, #12]
 349:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****         pHandle->IncDecAmount = 0;
 401              		.loc 1 349 9 is_stmt 1 view .LVU108
 402              		.loc 1 349 31 is_stmt 0 view .LVU109
 403 0062 A361     		str	r3, [r4, #24]
 404 0064 15E0     		b	.L15
 405              	.L30:
 342:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****         }
 406              		.loc 1 342 11 is_stmt 1 view .LVU110
 342:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****         }
 407              		.loc 1 342 62 is_stmt 0 view .LVU111
 408 0066 2D04     		lsls	r5, r5, #16
 342:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****         }
 409              		.loc 1 342 36 view .LVU112
 410 0068 6560     		str	r5, [r4, #4]
 411 006a F8E7     		b	.L20
 412              	.L18:
 350:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       }
 351:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       else
 352:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       {
 353:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****         /* Store the hTargetFinal to be applied in the last step */
 354:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****         pHandle->TargetFinal = hTargetFinal;
 413              		.loc 1 354 9 is_stmt 1 view .LVU113
 414              		.loc 1 354 30 is_stmt 0 view .LVU114
 415 006c 6580     		strh	r5, [r4, #2]	@ movhi
 355:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** 
 356:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****         /* Compute the (wRampRemainingStep) number of steps remaining to complete
 357:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****         the ramp. */
 358:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****         wAux = ((uint32_t)hDurationms) * ((uint32_t)pHandle->STCFrequencyHz);
 416              		.loc 1 358 9 is_stmt 1 view .LVU115
 417              		.loc 1 358 60 is_stmt 0 view .LVU116
 418 006e A38B     		ldrh	r3, [r4, #28]
 419              		.loc 1 358 14 view .LVU117
 420 0070 06FB03F3 		mul	r3, r6, r3
 421              	.LVL28:
 359:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****         wAux /= 1000U;
 422              		.loc 1 359 9 is_stmt 1 view .LVU118
 423              		.loc 1 359 14 is_stmt 0 view .LVU119
 424 0074 094A     		ldr	r2, .L31
 425 0076 A2FB0323 		umull	r2, r3, r2, r3
 426              	.LVL29:
 427              		.loc 1 359 14 view .LVU120
 428 007a 9B09     		lsrs	r3, r3, #6
 429              	.LVL30:
 360:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****         pHandle->RampRemainingStep = wAux;
 430              		.loc 1 360 9 is_stmt 1 view .LVU121
 361:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****         pHandle->RampRemainingStep++;
 431              		.loc 1 361 9 view .LVU122
 432              		.loc 1 361 35 is_stmt 0 view .LVU123
 433 007c 0133     		adds	r3, r3, #1
 434              	.LVL31:
 435              		.loc 1 361 35 view .LVU124
ARM GAS  /tmp/cchc7McC.s 			page 15


 436 007e E360     		str	r3, [r4, #12]
 362:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** 
 363:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****         /* Compute the increment/decrement amount (wIncDecAmount) to be applied to
 364:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****         the reference value at each CalcTorqueReference. */
 365:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****         wAux1 = (((int32_t)hTargetFinal) - ((int32_t)hCurrentReference)) * 65536;
 437              		.loc 1 365 9 is_stmt 1 view .LVU125
 438              		.loc 1 365 42 is_stmt 0 view .LVU126
 439 0080 6D1A     		subs	r5, r5, r1
 440              		.loc 1 365 15 view .LVU127
 441 0082 2D04     		lsls	r5, r5, #16
 442              	.LVL32:
 366:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****         wAux1 /= ((int32_t)pHandle->RampRemainingStep);
 443              		.loc 1 366 9 is_stmt 1 view .LVU128
 444              		.loc 1 366 15 is_stmt 0 view .LVU129
 445 0084 95FBF3F5 		sdiv	r5, r5, r3
 446              	.LVL33:
 367:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****         pHandle->IncDecAmount = wAux1;
 447              		.loc 1 367 9 is_stmt 1 view .LVU130
 448              		.loc 1 367 31 is_stmt 0 view .LVU131
 449 0088 A561     		str	r5, [r4, #24]
 450 008a 02E0     		b	.L15
 451              	.LVL34:
 452              	.L22:
 299:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       }
 453              		.loc 1 299 22 view .LVU132
 454 008c 0020     		movs	r0, #0
 455              	.LVL35:
 299:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       }
 456              		.loc 1 299 22 view .LVU133
 457 008e 00E0     		b	.L15
 458              	.LVL36:
 459              	.L23:
 315:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       }
 460              		.loc 1 315 22 view .LVU134
 461 0090 0020     		movs	r0, #0
 462              	.LVL37:
 463              	.L15:
 368:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       }
 369:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     }
 370:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #ifdef NULL_PTR_SPD_TRQ_CTL
 371:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   }
 372:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #endif
 373:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   return (allowedRange);
 464              		.loc 1 373 3 is_stmt 1 view .LVU135
 374:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** }
 465              		.loc 1 374 1 is_stmt 0 view .LVU136
 466 0092 70BD     		pop	{r4, r5, r6, pc}
 467              	.LVL38:
 468              	.L24:
 319:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       }
 469              		.loc 1 319 22 view .LVU137
 470 0094 0020     		movs	r0, #0
 471              	.LVL39:
 319:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       }
 472              		.loc 1 319 22 view .LVU138
 473 0096 FCE7     		b	.L15
 474              	.LVL40:
ARM GAS  /tmp/cchc7McC.s 			page 16


 475              	.L26:
 325:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****         }
 476              		.loc 1 325 24 view .LVU139
 477 0098 0020     		movs	r0, #0
 478              	.LVL41:
 325:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****         }
 479              		.loc 1 325 24 view .LVU140
 480 009a FAE7     		b	.L15
 481              	.L32:
 482              		.align	2
 483              	.L31:
 484 009c D34D6210 		.word	274877907
 485              		.cfi_endproc
 486              	.LFE1445:
 488              		.section	.text.STC_ExecSin,"ax",%progbits
 489              		.align	1
 490              		.weak	STC_ExecSin
 491              		.syntax unified
 492              		.thumb
 493              		.thumb_func
 494              		.fpu fpv4-sp-d16
 496              	STC_ExecSin:
 497              	.LVL42:
 498              	.LFB1446:
 375:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** ///////////////////////////////////////////////////////////////////////////////////////////////////
 376:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** /* Starts the execution of a sin speed. */
 377:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** __weak bool STC_ExecSin(SpeednTorqCtrl_Handle_t *pHandle, int16_t hMean, int16_t hAmp, int16_t hPha
 378:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** {
 499              		.loc 1 378 1 is_stmt 1 view -0
 500              		.cfi_startproc
 501              		@ args = 0, pretend = 0, frame = 8
 502              		@ frame_needed = 0, uses_anonymous_args = 0
 503              		.loc 1 378 1 is_stmt 0 view .LVU142
 504 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 505              		.cfi_def_cfa_offset 20
 506              		.cfi_offset 4, -20
 507              		.cfi_offset 5, -16
 508              		.cfi_offset 6, -12
 509              		.cfi_offset 7, -8
 510              		.cfi_offset 14, -4
 511 0002 83B0     		sub	sp, sp, #12
 512              		.cfi_def_cfa_offset 32
 513 0004 1646     		mov	r6, r2
 379:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   static int16_t prevAngle = 0;
 514              		.loc 1 379 3 is_stmt 1 view .LVU143
 380:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   static int16_t sectionCounter = 0;
 515              		.loc 1 380 3 view .LVU144
 381:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   bool allowedRange = true;
 516              		.loc 1 381 3 view .LVU145
 517              	.LVL43:
 382:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #ifdef NULL_PTR_SPD_TRQ_CTL
 383:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   if (MC_NULL == pHandle)
 384:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   {
 385:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     allowedRange = false;
 386:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   }
 387:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   else
 388:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   {
ARM GAS  /tmp/cchc7McC.s 			page 17


 389:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #endif
 390:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #ifdef CHECK_BOUNDARY
 391:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     if ((int32_t)(hMean + hAmp) > (int32_t)pHandle->MaxAppPositiveMecSpeedUnit)
 518              		.loc 1 391 5 view .LVU146
 519              		.loc 1 391 25 is_stmt 0 view .LVU147
 520 0006 8B18     		adds	r3, r1, r2
 521              	.LVL44:
 522              		.loc 1 391 51 view .LVU148
 523 0008 C28B     		ldrh	r2, [r0, #30]
 524              	.LVL45:
 525              		.loc 1 391 8 view .LVU149
 526 000a 9342     		cmp	r3, r2
 527 000c 75DC     		bgt	.L41
 528 000e 0446     		mov	r4, r0
 529 0010 0D46     		mov	r5, r1
 392:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     {
 393:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       allowedRange = false;
 394:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     }
 395:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     else if (-(hMean + hAmp) < pHandle->MinAppNegativeMecSpeedUnit)
 530              		.loc 1 395 10 is_stmt 1 view .LVU150
 531              		.loc 1 395 14 is_stmt 0 view .LVU151
 532 0012 5B42     		rsbs	r3, r3, #0
 533              		.loc 1 395 39 view .LVU152
 534 0014 B0F92420 		ldrsh	r2, [r0, #36]
 535              		.loc 1 395 13 view .LVU153
 536 0018 9342     		cmp	r3, r2
 537 001a 71DB     		blt	.L42
 396:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     {
 397:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       allowedRange = false;
 398:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     }
 399:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     else if ((int32_t)(hMean - hAmp) < (int32_t)pHandle->MinAppPositiveMecSpeedUnit)
 538              		.loc 1 399 10 is_stmt 1 view .LVU154
 539              		.loc 1 399 30 is_stmt 0 view .LVU155
 540 001c 8B1B     		subs	r3, r1, r6
 541              		.loc 1 399 56 view .LVU156
 542 001e 028C     		ldrh	r2, [r0, #32]
 543              		.loc 1 399 13 view .LVU157
 544 0020 9342     		cmp	r3, r2
 545 0022 04DA     		bge	.L35
 400:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     {
 401:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       if (-(hMean - hAmp) > pHandle->MaxAppNegativeMecSpeedUnit)
 546              		.loc 1 401 7 is_stmt 1 view .LVU158
 547              		.loc 1 401 11 is_stmt 0 view .LVU159
 548 0024 731A     		subs	r3, r6, r1
 549              		.loc 1 401 36 view .LVU160
 550 0026 B0F92220 		ldrsh	r2, [r0, #34]
 551              		.loc 1 401 10 view .LVU161
 552 002a 9342     		cmp	r3, r2
 553 002c 6ADC     		bgt	.L43
 554              	.L35:
 555              	.LVL46:
 556              	.LBB2:
 402:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       {
 403:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****         allowedRange = false;
 404:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       }
 405:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     }
 406:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     else
ARM GAS  /tmp/cchc7McC.s 			page 18


 407:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     {
 408:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       /* Nothing to do */
 409:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     }
 410:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #endif
 411:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     if (true == allowedRange)
 412:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     {
 413:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       /* Interrupts the execution of any previous ramp command */
 414:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****  
 415:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       sectionCounter += (prevAngle > STO_M1._Super->hElAngle)?1:0;
 557              		.loc 1 415 7 is_stmt 1 view .LVU162
 558              		.loc 1 415 44 is_stmt 0 view .LVU163
 559 002e 364B     		ldr	r3, .L50
 560 0030 1968     		ldr	r1, [r3]
 561              	.LVL47:
 562              		.loc 1 415 51 view .LVU164
 563 0032 B1F90430 		ldrsh	r3, [r1, #4]
 564              		.loc 1 415 64 view .LVU165
 565 0036 354A     		ldr	r2, .L50+4
 566 0038 B2F90070 		ldrsh	r7, [r2]
 567              		.loc 1 415 22 view .LVU166
 568 003c 3448     		ldr	r0, .L50+8
 569              	.LVL48:
 570              		.loc 1 415 22 view .LVU167
 571 003e 0288     		ldrh	r2, [r0]
 572 0040 9F42     		cmp	r7, r3
 573 0042 C8BF     		it	gt
 574 0044 0132     		addgt	r2, r2, #1
 575 0046 12B2     		sxth	r2, r2
 576 0048 0280     		strh	r2, [r0]	@ movhi
 416:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       if (sectionCounter == STO_M1._Super->bElToMecRatio)
 577              		.loc 1 416 7 is_stmt 1 view .LVU168
 578              		.loc 1 416 42 is_stmt 0 view .LVU169
 579 004a 4978     		ldrb	r1, [r1, #1]	@ zero_extendqisi2
 580              		.loc 1 416 10 view .LVU170
 581 004c 8A42     		cmp	r2, r1
 582 004e 41D0     		beq	.L46
 583              	.L36:
 417:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****         sectionCounter = 0; 
 418:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       prevAngle = STO_M1._Super->hElAngle;
 584              		.loc 1 418 7 is_stmt 1 view .LVU171
 585              		.loc 1 418 17 is_stmt 0 view .LVU172
 586 0050 2E4A     		ldr	r2, .L50+4
 587 0052 1380     		strh	r3, [r2]	@ movhi
 419:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       int32_t localElAngle =  (STO_M1._Super->hElAngle - INT16_MIN);
 588              		.loc 1 419 7 is_stmt 1 view .LVU173
 589              		.loc 1 419 15 is_stmt 0 view .LVU174
 590 0054 03F50047 		add	r7, r3, #32768
 591              	.LVL49:
 420:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       int16_t phase = 0;
 592              		.loc 1 420 7 is_stmt 1 view .LVU175
 421:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       int32_t angle = (localElAngle+UINT16_MAX*sectionCounter)/STO_M1._Super->bElToMecRatio; //Virt
 593              		.loc 1 421 7 view .LVU176
 594              		.loc 1 421 47 is_stmt 0 view .LVU177
 595 0058 2D4B     		ldr	r3, .L50+8
 596 005a B3F90030 		ldrsh	r3, [r3]
 597 005e C3EB0343 		rsb	r3, r3, r3, lsl #16
 598              		.loc 1 421 36 view .LVU178
ARM GAS  /tmp/cchc7McC.s 			page 19


 599 0062 1F44     		add	r7, r7, r3
 600              	.LVL50:
 601              		.loc 1 421 15 view .LVU179
 602 0064 97FBF1F7 		sdiv	r7, r7, r1
 603              	.LVL51:
 422:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       int32_t totalAngle = (int32_t)angle + phase;
 604              		.loc 1 422 7 is_stmt 1 view .LVU180
 423:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       if (totalAngle > INT16_MAX)
 605              		.loc 1 423 7 view .LVU181
 606              		.loc 1 423 10 is_stmt 0 view .LVU182
 607 0068 B7F5004F 		cmp	r7, #32768
 608 006c 36DB     		blt	.L44
 424:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****         totalAngle -= UINT16_MAX;
 609              		.loc 1 424 9 is_stmt 1 view .LVU183
 610              		.loc 1 424 20 is_stmt 0 view .LVU184
 611 006e A7F57F40 		sub	r0, r7, #65280
 612 0072 FF38     		subs	r0, r0, #255
 613              	.LVL52:
 614              	.L37:
 425:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       Trig_Components Local_Vector_Components;
 615              		.loc 1 425 7 is_stmt 1 view .LVU185
 426:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       Local_Vector_Components = MCM_Trig_Functions((int16_t)totalAngle);
 616              		.loc 1 426 7 view .LVU186
 617              		.loc 1 426 33 is_stmt 0 view .LVU187
 618 0074 00B2     		sxth	r0, r0
 619              	.LVL53:
 620              		.loc 1 426 33 view .LVU188
 621 0076 FFF7FEFF 		bl	MCM_Trig_Functions
 622              	.LVL54:
 623              		.loc 1 426 33 view .LVU189
 624 007a 0190     		str	r0, [sp, #4]
 427:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       int32_t SinAngleplusPhase = Local_Vector_Components.hCos;
 625              		.loc 1 427 7 is_stmt 1 view .LVU190
 626              		.loc 1 427 58 is_stmt 0 view .LVU191
 627 007c 00B2     		sxth	r0, r0
 628              	.LVL55:
 428:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       pHandle->SpeedRefUnitExt = (int32_t)(hMean + hAmp * SinAngleplusPhase / 65536) * 65536;
 629              		.loc 1 428 7 is_stmt 1 view .LVU192
 630              		.loc 1 428 57 is_stmt 0 view .LVU193
 631 007e 00FB06F6 		mul	r6, r0, r6
 632              		.loc 1 428 77 view .LVU194
 633 0082 3346     		mov	r3, r6
 634 0084 002E     		cmp	r6, #0
 635 0086 2BDB     		blt	.L47
 636              	.L38:
 637              		.loc 1 428 34 view .LVU195
 638 0088 05EB2343 		add	r3, r5, r3, asr #16
 639              		.loc 1 428 86 view .LVU196
 640 008c 1B04     		lsls	r3, r3, #16
 641              		.loc 1 428 32 view .LVU197
 642 008e 6360     		str	r3, [r4, #4]
 429:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       int32_t desiredspeed = (int32_t)(hMean + hAmp * SinAngleplusPhase / 65536 /2) * 65536;
 643              		.loc 1 429 7 is_stmt 1 view .LVU198
 644              		.loc 1 429 81 is_stmt 0 view .LVU199
 645 0090 3146     		mov	r1, r6
 646 0092 002E     		cmp	r6, #0
 647 0094 28DB     		blt	.L48
ARM GAS  /tmp/cchc7McC.s 			page 20


 648              	.L39:
 649              		.loc 1 429 30 view .LVU200
 650 0096 05EB6145 		add	r5, r5, r1, asr #17
 651              	.LVL56:
 430:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       //int32_t sensorSpeed = (int32_t)STO_M1._Super->hElSpeedDpp*MEDIUM_FREQUENCY_TASK_RATE/65536*
 431:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       if (debugScopeM1.i2 == 100)
 652              		.loc 1 431 7 is_stmt 1 view .LVU201
 653              		.loc 1 431 23 is_stmt 0 view .LVU202
 654 009a 1E4B     		ldr	r3, .L50+12
 655 009c B3F90630 		ldrsh	r3, [r3, #6]
 656              		.loc 1 431 10 view .LVU203
 657 00a0 642B     		cmp	r3, #100
 658 00a2 26D0     		beq	.L49
 659              	.L40:
 432:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****          debugScopeM1.i2 = 100;
 433:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****          
 434:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       DebugScopeInsertData(&debugScopeM1, 1, angle);
 660              		.loc 1 434 7 is_stmt 1 view .LVU204
 661 00a4 1B4E     		ldr	r6, .L50+12
 662 00a6 3AB2     		sxth	r2, r7
 663 00a8 0121     		movs	r1, #1
 664 00aa 3046     		mov	r0, r6
 665              	.LVL57:
 666              		.loc 1 434 7 is_stmt 0 view .LVU205
 667 00ac FFF7FEFF 		bl	DebugScopeInsertData
 668              	.LVL58:
 435:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       DebugScopeInsertData(&debugScopeM1, 2, desiredspeed / 65536);
 669              		.loc 1 435 7 is_stmt 1 view .LVU206
 670 00b0 2AB2     		sxth	r2, r5
 671 00b2 0221     		movs	r1, #2
 672 00b4 3046     		mov	r0, r6
 673 00b6 FFF7FEFF 		bl	DebugScopeInsertData
 674              	.LVL59:
 436:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       DebugScopeInsertData(&debugScopeM1, 3, STO_M1._Super->hElAngle);
 675              		.loc 1 436 7 view .LVU207
 676              		.loc 1 436 52 is_stmt 0 view .LVU208
 677 00ba 134B     		ldr	r3, .L50
 678 00bc 1B68     		ldr	r3, [r3]
 679              		.loc 1 436 7 view .LVU209
 680 00be B3F90420 		ldrsh	r2, [r3, #4]
 681 00c2 0321     		movs	r1, #3
 682 00c4 3046     		mov	r0, r6
 683 00c6 FFF7FEFF 		bl	DebugScopeInsertData
 684              	.LVL60:
 437:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       pHandle->RampRemainingStep = 0U;
 685              		.loc 1 437 7 is_stmt 1 view .LVU210
 686              		.loc 1 437 34 is_stmt 0 view .LVU211
 687 00ca 0023     		movs	r3, #0
 688 00cc E360     		str	r3, [r4, #12]
 438:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       pHandle->IncDecAmount = 0;
 689              		.loc 1 438 7 is_stmt 1 view .LVU212
 690              		.loc 1 438 29 is_stmt 0 view .LVU213
 691 00ce A361     		str	r3, [r4, #24]
 692 00d0 0120     		movs	r0, #1
 693 00d2 13E0     		b	.L34
 694              	.LVL61:
 695              	.L46:
ARM GAS  /tmp/cchc7McC.s 			page 21


 417:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       prevAngle = STO_M1._Super->hElAngle;
 696              		.loc 1 417 9 is_stmt 1 view .LVU214
 417:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       prevAngle = STO_M1._Super->hElAngle;
 697              		.loc 1 417 24 is_stmt 0 view .LVU215
 698 00d4 0246     		mov	r2, r0
 699 00d6 0020     		movs	r0, #0
 700 00d8 1080     		strh	r0, [r2]	@ movhi
 701 00da B9E7     		b	.L36
 702              	.LVL62:
 703              	.L44:
 422:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       if (totalAngle > INT16_MAX)
 704              		.loc 1 422 15 view .LVU216
 705 00dc 3846     		mov	r0, r7
 706 00de C9E7     		b	.L37
 707              	.LVL63:
 708              	.L47:
 428:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       int32_t desiredspeed = (int32_t)(hMean + hAmp * SinAngleplusPhase / 65536 /2) * 65536;
 709              		.loc 1 428 77 view .LVU217
 710 00e0 06F57F43 		add	r3, r6, #65280
 711 00e4 FF33     		adds	r3, r3, #255
 712 00e6 CFE7     		b	.L38
 713              	.L48:
 429:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       //int32_t sensorSpeed = (int32_t)STO_M1._Super->hElSpeedDpp*MEDIUM_FREQUENCY_TASK_RATE/65536*
 714              		.loc 1 429 81 view .LVU218
 715 00e8 06F5FF31 		add	r1, r6, #130560
 716 00ec 01F2FF11 		addw	r1, r1, #511
 717 00f0 D1E7     		b	.L39
 718              	.LVL64:
 719              	.L49:
 432:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****          
 720              		.loc 1 432 10 is_stmt 1 view .LVU219
 432:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****          
 721              		.loc 1 432 26 is_stmt 0 view .LVU220
 722 00f2 084B     		ldr	r3, .L50+12
 723 00f4 6422     		movs	r2, #100
 724 00f6 DA80     		strh	r2, [r3, #6]	@ movhi
 725 00f8 D4E7     		b	.L40
 726              	.LVL65:
 727              	.L41:
 432:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****          
 728              		.loc 1 432 26 view .LVU221
 729              	.LBE2:
 393:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     }
 730              		.loc 1 393 20 view .LVU222
 731 00fa 0020     		movs	r0, #0
 732              	.LVL66:
 733              	.L34:
 439:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     }
 440:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #ifdef NULL_PTR_SPD_TRQ_CTL
 441:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   }
 442:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #endif
 443:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   return (allowedRange);
 734              		.loc 1 443 3 is_stmt 1 view .LVU223
 444:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** }
 735              		.loc 1 444 1 is_stmt 0 view .LVU224
 736 00fc 03B0     		add	sp, sp, #12
 737              		.cfi_remember_state
ARM GAS  /tmp/cchc7McC.s 			page 22


 738              		.cfi_def_cfa_offset 20
 739              		@ sp needed
 740 00fe F0BD     		pop	{r4, r5, r6, r7, pc}
 741              	.LVL67:
 742              	.L42:
 743              		.cfi_restore_state
 397:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     }
 744              		.loc 1 397 20 view .LVU225
 745 0100 0020     		movs	r0, #0
 746              	.LVL68:
 397:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     }
 747              		.loc 1 397 20 view .LVU226
 748 0102 FBE7     		b	.L34
 749              	.LVL69:
 750              	.L43:
 403:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       }
 751              		.loc 1 403 22 view .LVU227
 752 0104 0020     		movs	r0, #0
 753              	.LVL70:
 403:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       }
 754              		.loc 1 403 22 view .LVU228
 755 0106 F9E7     		b	.L34
 756              	.L51:
 757              		.align	2
 758              	.L50:
 759 0108 00000000 		.word	STO_M1
 760 010c 00000000 		.word	.LANCHOR0
 761 0110 00000000 		.word	.LANCHOR1
 762 0114 00000000 		.word	debugScopeM1
 763              		.cfi_endproc
 764              	.LFE1446:
 766              		.section	.text.STC_StopRamp,"ax",%progbits
 767              		.align	1
 768              		.weak	STC_StopRamp
 769              		.syntax unified
 770              		.thumb
 771              		.thumb_func
 772              		.fpu fpv4-sp-d16
 774              	STC_StopRamp:
 775              	.LVL71:
 776              	.LFB1447:
 445:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** 
 446:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** /**
 447:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @brief  This command interrupts the execution of any previous ramp command.
 448:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         If STC has been set in Torque mode the last value of Iq is
 449:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         maintained.
 450:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         If STC has been set in Speed mode the last value of mechanical
 451:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         rotor speed reference is maintained.
 452:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @param  pHandle: handler of the current instance of the SpeednTorqCtrl component
 453:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @retval none
 454:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   */
 455:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** __weak void STC_StopRamp(SpeednTorqCtrl_Handle_t *pHandle)
 456:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** {
 777              		.loc 1 456 1 is_stmt 1 view -0
 778              		.cfi_startproc
 779              		@ args = 0, pretend = 0, frame = 0
 780              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  /tmp/cchc7McC.s 			page 23


 781              		@ link register save eliminated.
 457:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #ifdef NULL_PTR_SPD_TRQ_CTL
 458:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   if (MC_NULL == pHandle)
 459:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   {
 460:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     /* Nothing to do */
 461:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   }
 462:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   else
 463:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   {
 464:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #endif
 465:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     pHandle->RampRemainingStep = 0U;
 782              		.loc 1 465 5 view .LVU230
 783              		.loc 1 465 32 is_stmt 0 view .LVU231
 784 0000 0023     		movs	r3, #0
 785 0002 C360     		str	r3, [r0, #12]
 466:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     pHandle->IncDecAmount = 0;
 786              		.loc 1 466 5 is_stmt 1 view .LVU232
 787              		.loc 1 466 27 is_stmt 0 view .LVU233
 788 0004 8361     		str	r3, [r0, #24]
 467:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #ifdef NULL_PTR_SPD_TRQ_CTL
 468:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   }
 469:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #endif
 470:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** }
 789              		.loc 1 470 1 view .LVU234
 790 0006 7047     		bx	lr
 791              		.cfi_endproc
 792              	.LFE1447:
 794              		.section	.text.STC_CalcTorqueReference,"ax",%progbits
 795              		.align	1
 796              		.weak	STC_CalcTorqueReference
 797              		.syntax unified
 798              		.thumb
 799              		.thumb_func
 800              		.fpu fpv4-sp-d16
 802              	STC_CalcTorqueReference:
 803              	.LVL72:
 804              	.LFB1448:
 471:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** 
 472:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** /**
 473:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @brief  It is used to compute the new value of motor torque reference. It
 474:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         must be called at fixed time equal to hSTCFrequencyHz. It is called
 475:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         passing as parameter the speed sensor used to perform the speed
 476:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         regulation.
 477:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @param  pHandle: handler of the current instance of the SpeednTorqCtrl component
 478:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @retval int16_t motor torque reference. This value represents actually the
 479:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         Iq current expressed in digit.
 480:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         To convert current expressed in Amps to current expressed in digit
 481:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         is possible to use the formula:
 482:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         Current(digit) = [Current(Amp) * 65536 * Rshunt * Aop]  /  Vdd micro
 483:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   */
 484:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** __weak int16_t STC_CalcTorqueReference(SpeednTorqCtrl_Handle_t *pHandle)
 485:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** {
 805              		.loc 1 485 1 is_stmt 1 view -0
 806              		.cfi_startproc
 807              		@ args = 0, pretend = 0, frame = 0
 808              		@ frame_needed = 0, uses_anonymous_args = 0
 809              		.loc 1 485 1 is_stmt 0 view .LVU236
 810 0000 70B5     		push	{r4, r5, r6, lr}
ARM GAS  /tmp/cchc7McC.s 			page 24


 811              		.cfi_def_cfa_offset 16
 812              		.cfi_offset 4, -16
 813              		.cfi_offset 5, -12
 814              		.cfi_offset 6, -8
 815              		.cfi_offset 14, -4
 816 0002 0446     		mov	r4, r0
 486:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   int16_t hTorqueReference;
 817              		.loc 1 486 3 is_stmt 1 view .LVU237
 487:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #ifdef NULL_PTR_SPD_TRQ_CTL
 488:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   if (MC_NULL == pHandle)
 489:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   {
 490:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     hTorqueReference = 0;
 491:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   }
 492:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   else
 493:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   {
 494:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #endif
 495:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     int32_t wCurrentReference;
 818              		.loc 1 495 5 view .LVU238
 496:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     int16_t hMeasuredSpeed;
 819              		.loc 1 496 5 view .LVU239
 497:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     int16_t hTargetSpeed;
 820              		.loc 1 497 5 view .LVU240
 498:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     int16_t hError;
 821              		.loc 1 498 5 view .LVU241
 499:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** 
 500:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     if (MCM_TORQUE_MODE == pHandle->Mode)
 822              		.loc 1 500 5 view .LVU242
 823              		.loc 1 500 35 is_stmt 0 view .LVU243
 824 0004 0278     		ldrb	r2, [r0]	@ zero_extendqisi2
 825              		.loc 1 500 8 view .LVU244
 826 0006 042A     		cmp	r2, #4
 827 0008 0CD0     		beq	.L61
 501:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     {
 502:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       wCurrentReference = pHandle->TorqueRef;
 503:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     }
 504:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     else
 505:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     {
 506:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       wCurrentReference = pHandle->SpeedRefUnitExt;
 828              		.loc 1 506 7 is_stmt 1 view .LVU245
 829              		.loc 1 506 25 is_stmt 0 view .LVU246
 830 000a 4568     		ldr	r5, [r0, #4]
 831              	.LVL73:
 832              	.L55:
 507:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     }
 508:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** 
 509:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     /* Update the speed reference or the torque reference according to the mode
 510:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****        and terminates the ramp if needed. */
 511:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     if (pHandle->RampRemainingStep > 1U)
 833              		.loc 1 511 5 is_stmt 1 view .LVU247
 834              		.loc 1 511 16 is_stmt 0 view .LVU248
 835 000c E368     		ldr	r3, [r4, #12]
 836              		.loc 1 511 8 view .LVU249
 837 000e 012B     		cmp	r3, #1
 838 0010 0AD9     		bls	.L56
 512:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     {
 513:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       /* Increment/decrement the reference value. */
 514:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       wCurrentReference += pHandle->IncDecAmount;
ARM GAS  /tmp/cchc7McC.s 			page 25


 839              		.loc 1 514 7 is_stmt 1 view .LVU250
 840              		.loc 1 514 35 is_stmt 0 view .LVU251
 841 0012 A169     		ldr	r1, [r4, #24]
 842              		.loc 1 514 25 view .LVU252
 843 0014 0D44     		add	r5, r5, r1
 844              	.LVL74:
 515:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** 
 516:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       /* Decrement the number of remaining steps */
 517:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       pHandle->RampRemainingStep--;
 845              		.loc 1 517 7 is_stmt 1 view .LVU253
 846              		.loc 1 517 33 is_stmt 0 view .LVU254
 847 0016 013B     		subs	r3, r3, #1
 848 0018 E360     		str	r3, [r4, #12]
 849              	.L57:
 518:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     }
 519:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     else if (1U == pHandle->RampRemainingStep)
 520:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     {
 521:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       /* Set the backup value of hTargetFinal. */
 522:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       wCurrentReference = ((int32_t)pHandle->TargetFinal) * 65536;
 523:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       pHandle->RampRemainingStep = 0U;
 524:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     }
 525:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     else
 526:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     {
 527:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       /* Do nothing. */
 528:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     }
 850              		.loc 1 528 5 is_stmt 1 view .LVU255
 529:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** 
 530:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     if (MCM_SPEED_MODE == pHandle->Mode)
 851              		.loc 1 530 5 view .LVU256
 852              		.loc 1 530 8 is_stmt 0 view .LVU257
 853 001a 032A     		cmp	r2, #3
 854 001c 0CD0     		beq	.L62
 531:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     {
 532:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       /* Run the speed control loop */
 533:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** 
 534:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       /* Compute speed error */
 535:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #ifndef FULL_MISRA_C_COMPLIANCY_SPD_TORQ_CTRL
 536:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       //cstat !MISRAC2012-Rule-1.3_n !ATH-shift-neg !MISRAC2012-Rule-10.1_R6
 537:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       hTargetSpeed = (int16_t)(wCurrentReference >> 16);
 538:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #else
 539:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       hTargetSpeed = (int16_t)(wCurrentReference / 65536);
 540:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #endif
 541:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       hMeasuredSpeed = SPD_GetAvrgMecSpeedUnit(pHandle->SPD);
 542:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       hError = hTargetSpeed - hMeasuredSpeed;
 543:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       hTorqueReference = PI_Controller(pHandle->PISpeed, (int32_t)hError);
 544:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** 
 545:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       pHandle->SpeedRefUnitExt = wCurrentReference;
 546:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       pHandle->TorqueRef = ((int32_t)hTorqueReference) * 65536;
 547:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     }
 548:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     else
 549:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     {
 550:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       pHandle->TorqueRef = wCurrentReference;
 855              		.loc 1 550 7 is_stmt 1 view .LVU258
 856              		.loc 1 550 26 is_stmt 0 view .LVU259
 857 001e A560     		str	r5, [r4, #8]
 551:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #ifndef FULL_MISRA_C_COMPLIANCY_SPD_TORQ_CTRL
 552:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       //cstat !MISRAC2012-Rule-1.3_n !ATH-shift-neg !MISRAC2012-Rule-10.1_R6
ARM GAS  /tmp/cchc7McC.s 			page 26


 553:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       hTorqueReference = (int16_t)(wCurrentReference >> 16);
 858              		.loc 1 553 7 is_stmt 1 view .LVU260
 859              		.loc 1 553 24 is_stmt 0 view .LVU261
 860 0020 2814     		asrs	r0, r5, #16
 861              	.LVL75:
 862              	.L59:
 554:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #else
 555:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       hTorqueReference = (int16_t)(wCurrentReference / 65536);
 556:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #endif
 557:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     }
 558:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #ifdef NULL_PTR_SPD_TRQ_CTL
 559:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   }
 560:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #endif
 561:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   return (hTorqueReference);
 863              		.loc 1 561 3 is_stmt 1 view .LVU262
 562:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** }
 864              		.loc 1 562 1 is_stmt 0 view .LVU263
 865 0022 70BD     		pop	{r4, r5, r6, pc}
 866              	.LVL76:
 867              	.L61:
 502:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     }
 868              		.loc 1 502 7 is_stmt 1 view .LVU264
 502:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     }
 869              		.loc 1 502 25 is_stmt 0 view .LVU265
 870 0024 8568     		ldr	r5, [r0, #8]
 871              	.LVL77:
 502:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     }
 872              		.loc 1 502 25 view .LVU266
 873 0026 F1E7     		b	.L55
 874              	.L56:
 519:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     {
 875              		.loc 1 519 10 is_stmt 1 view .LVU267
 519:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     {
 876              		.loc 1 519 13 is_stmt 0 view .LVU268
 877 0028 012B     		cmp	r3, #1
 878 002a F6D1     		bne	.L57
 522:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       pHandle->RampRemainingStep = 0U;
 879              		.loc 1 522 7 is_stmt 1 view .LVU269
 522:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       pHandle->RampRemainingStep = 0U;
 880              		.loc 1 522 44 is_stmt 0 view .LVU270
 881 002c B4F90250 		ldrsh	r5, [r4, #2]
 882              	.LVL78:
 522:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       pHandle->RampRemainingStep = 0U;
 883              		.loc 1 522 25 view .LVU271
 884 0030 2D04     		lsls	r5, r5, #16
 885              	.LVL79:
 523:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     }
 886              		.loc 1 523 7 is_stmt 1 view .LVU272
 523:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     }
 887              		.loc 1 523 34 is_stmt 0 view .LVU273
 888 0032 0023     		movs	r3, #0
 889 0034 E360     		str	r3, [r4, #12]
 890 0036 F0E7     		b	.L57
 891              	.L62:
 537:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #else
 892              		.loc 1 537 7 is_stmt 1 view .LVU274
 537:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #else
ARM GAS  /tmp/cchc7McC.s 			page 27


 893              		.loc 1 537 50 is_stmt 0 view .LVU275
 894 0038 2E14     		asrs	r6, r5, #16
 895              	.LVL80:
 541:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       hError = hTargetSpeed - hMeasuredSpeed;
 896              		.loc 1 541 7 is_stmt 1 view .LVU276
 541:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       hError = hTargetSpeed - hMeasuredSpeed;
 897              		.loc 1 541 24 is_stmt 0 view .LVU277
 898 003a 6069     		ldr	r0, [r4, #20]
 899              	.LVL81:
 541:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       hError = hTargetSpeed - hMeasuredSpeed;
 900              		.loc 1 541 24 view .LVU278
 901 003c FFF7FEFF 		bl	SPD_GetAvrgMecSpeedUnit
 902              	.LVL82:
 542:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       hTorqueReference = PI_Controller(pHandle->PISpeed, (int32_t)hError);
 903              		.loc 1 542 7 is_stmt 1 view .LVU279
 542:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       hTorqueReference = PI_Controller(pHandle->PISpeed, (int32_t)hError);
 904              		.loc 1 542 29 is_stmt 0 view .LVU280
 905 0040 311A     		subs	r1, r6, r0
 906              	.LVL83:
 543:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** 
 907              		.loc 1 543 7 is_stmt 1 view .LVU281
 543:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** 
 908              		.loc 1 543 26 is_stmt 0 view .LVU282
 909 0042 09B2     		sxth	r1, r1
 543:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** 
 910              		.loc 1 543 26 view .LVU283
 911 0044 2069     		ldr	r0, [r4, #16]
 912              	.LVL84:
 543:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** 
 913              		.loc 1 543 26 view .LVU284
 914 0046 FFF7FEFF 		bl	PI_Controller
 915              	.LVL85:
 545:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       pHandle->TorqueRef = ((int32_t)hTorqueReference) * 65536;
 916              		.loc 1 545 7 is_stmt 1 view .LVU285
 545:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       pHandle->TorqueRef = ((int32_t)hTorqueReference) * 65536;
 917              		.loc 1 545 32 is_stmt 0 view .LVU286
 918 004a 6560     		str	r5, [r4, #4]
 546:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     }
 919              		.loc 1 546 7 is_stmt 1 view .LVU287
 546:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     }
 920              		.loc 1 546 56 is_stmt 0 view .LVU288
 921 004c 0304     		lsls	r3, r0, #16
 546:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     }
 922              		.loc 1 546 26 view .LVU289
 923 004e A360     		str	r3, [r4, #8]
 924 0050 E7E7     		b	.L59
 925              		.cfi_endproc
 926              	.LFE1448:
 928              		.section	.text.STC_GetMecSpeedRefUnitDefault,"ax",%progbits
 929              		.align	1
 930              		.weak	STC_GetMecSpeedRefUnitDefault
 931              		.syntax unified
 932              		.thumb
 933              		.thumb_func
 934              		.fpu fpv4-sp-d16
 936              	STC_GetMecSpeedRefUnitDefault:
 937              	.LVL86:
ARM GAS  /tmp/cchc7McC.s 			page 28


 938              	.LFB1449:
 563:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** 
 564:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** /**
 565:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @brief  Get the Default mechanical rotor speed reference expressed in tenths
 566:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         of HZ.
 567:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @param  pHandle: handler of the current instance of the SpeednTorqCtrl component
 568:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @retval int16_t It returns the Default mechanical rotor speed. reference
 569:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         expressed in tenths of HZ.
 570:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   */
 571:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** __weak int16_t STC_GetMecSpeedRefUnitDefault(SpeednTorqCtrl_Handle_t *pHandle)
 572:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** {
 939              		.loc 1 572 1 is_stmt 1 view -0
 940              		.cfi_startproc
 941              		@ args = 0, pretend = 0, frame = 0
 942              		@ frame_needed = 0, uses_anonymous_args = 0
 943              		@ link register save eliminated.
 573:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #ifdef NULL_PTR_SPD_TRQ_CTL
 574:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   return ((MC_NULL == pHandle) ? 0 : pHandle->MecSpeedRefUnitDefault);
 575:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #else
 576:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   return (pHandle->MecSpeedRefUnitDefault);
 944              		.loc 1 576 3 view .LVU291
 577:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #endif
 578:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** }
 945              		.loc 1 578 1 is_stmt 0 view .LVU292
 946 0000 B0F92C00 		ldrsh	r0, [r0, #44]
 947              	.LVL87:
 948              		.loc 1 578 1 view .LVU293
 949 0004 7047     		bx	lr
 950              		.cfi_endproc
 951              	.LFE1449:
 953              		.section	.text.STC_GetMaxAppPositiveMecSpeedUnit,"ax",%progbits
 954              		.align	1
 955              		.weak	STC_GetMaxAppPositiveMecSpeedUnit
 956              		.syntax unified
 957              		.thumb
 958              		.thumb_func
 959              		.fpu fpv4-sp-d16
 961              	STC_GetMaxAppPositiveMecSpeedUnit:
 962              	.LVL88:
 963              	.LFB1450:
 579:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** 
 580:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** /**
 581:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @brief  Returns the Application maximum positive value of rotor speed. Expressed in the unit de
 582:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @param  pHandle: handler of the current instance of the SpeednTorqCtrl component
 583:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   */
 584:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** __weak uint16_t STC_GetMaxAppPositiveMecSpeedUnit(SpeednTorqCtrl_Handle_t *pHandle)
 585:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** {
 964              		.loc 1 585 1 is_stmt 1 view -0
 965              		.cfi_startproc
 966              		@ args = 0, pretend = 0, frame = 0
 967              		@ frame_needed = 0, uses_anonymous_args = 0
 968              		@ link register save eliminated.
 586:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #ifdef NULL_PTR_SPD_TRQ_CTL
 587:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   return ((MC_NULL == pHandle) ? 0U : pHandle->MaxAppPositiveMecSpeedUnit);
 588:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #else
 589:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   return (pHandle->MaxAppPositiveMecSpeedUnit);
 969              		.loc 1 589 3 view .LVU295
ARM GAS  /tmp/cchc7McC.s 			page 29


 590:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #endif
 591:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** }
 970              		.loc 1 591 1 is_stmt 0 view .LVU296
 971 0000 C08B     		ldrh	r0, [r0, #30]
 972              	.LVL89:
 973              		.loc 1 591 1 view .LVU297
 974 0002 7047     		bx	lr
 975              		.cfi_endproc
 976              	.LFE1450:
 978              		.section	.text.STC_GetMinAppNegativeMecSpeedUnit,"ax",%progbits
 979              		.align	1
 980              		.weak	STC_GetMinAppNegativeMecSpeedUnit
 981              		.syntax unified
 982              		.thumb
 983              		.thumb_func
 984              		.fpu fpv4-sp-d16
 986              	STC_GetMinAppNegativeMecSpeedUnit:
 987              	.LVL90:
 988              	.LFB1451:
 592:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** 
 593:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** /**
 594:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @brief  Returns the Application minimum negative value of rotor speed. Expressed in the unit de
 595:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @param  pHandle: handler of the current instance of the SpeednTorqCtrl component
 596:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   */
 597:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** __weak int16_t STC_GetMinAppNegativeMecSpeedUnit(SpeednTorqCtrl_Handle_t *pHandle)
 598:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** {
 989              		.loc 1 598 1 is_stmt 1 view -0
 990              		.cfi_startproc
 991              		@ args = 0, pretend = 0, frame = 0
 992              		@ frame_needed = 0, uses_anonymous_args = 0
 993              		@ link register save eliminated.
 599:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #ifdef NULL_PTR_SPD_TRQ_CTL
 600:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   return ((MC_NULL == pHandle) ? 0 : pHandle->MinAppNegativeMecSpeedUnit);
 601:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #else
 602:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   return (pHandle->MinAppNegativeMecSpeedUnit);
 994              		.loc 1 602 3 view .LVU299
 603:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #endif
 604:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** }
 995              		.loc 1 604 1 is_stmt 0 view .LVU300
 996 0000 B0F92400 		ldrsh	r0, [r0, #36]
 997              	.LVL91:
 998              		.loc 1 604 1 view .LVU301
 999 0004 7047     		bx	lr
 1000              		.cfi_endproc
 1001              	.LFE1451:
 1003              		.section	.text.STC_RampCompleted,"ax",%progbits
 1004              		.align	1
 1005              		.weak	STC_RampCompleted
 1006              		.syntax unified
 1007              		.thumb
 1008              		.thumb_func
 1009              		.fpu fpv4-sp-d16
 1011              	STC_RampCompleted:
 1012              	.LVL92:
 1013              	.LFB1452:
 605:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** 
 606:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** /**
ARM GAS  /tmp/cchc7McC.s 			page 30


 607:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @brief  Check if the settled speed or torque ramp has been completed.
 608:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @param  pHandle: handler of the current instance of the SpeednTorqCtrl component
 609:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @retval bool It returns true if the ramp is completed, false otherwise.
 610:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   */
 611:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** __weak bool STC_RampCompleted(SpeednTorqCtrl_Handle_t *pHandle)
 612:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** {
 1014              		.loc 1 612 1 is_stmt 1 view -0
 1015              		.cfi_startproc
 1016              		@ args = 0, pretend = 0, frame = 0
 1017              		@ frame_needed = 0, uses_anonymous_args = 0
 1018              		@ link register save eliminated.
 613:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   bool retVal = false;
 1019              		.loc 1 613 3 view .LVU303
 614:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #ifdef NULL_PTR_SPD_TRQ_CTL
 615:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   if (MC_NULL == pHandle)
 616:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   {
 617:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     /* Nothing to do */
 618:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   }
 619:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   else
 620:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   {
 621:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #endif
 622:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     if (0U == pHandle->RampRemainingStep)
 1020              		.loc 1 622 5 view .LVU304
 1021              		.loc 1 622 22 is_stmt 0 view .LVU305
 1022 0000 C368     		ldr	r3, [r0, #12]
 1023              		.loc 1 622 8 view .LVU306
 1024 0002 0BB1     		cbz	r3, .L68
 613:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   bool retVal = false;
 1025              		.loc 1 613 8 view .LVU307
 1026 0004 0020     		movs	r0, #0
 1027              	.LVL93:
 613:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   bool retVal = false;
 1028              		.loc 1 613 8 view .LVU308
 1029 0006 7047     		bx	lr
 1030              	.LVL94:
 1031              	.L68:
 623:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     {
 624:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       retVal = true;
 1032              		.loc 1 624 14 view .LVU309
 1033 0008 0120     		movs	r0, #1
 1034              	.LVL95:
 625:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     }
 626:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #ifdef NULL_PTR_SPD_TRQ_CTL
 627:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   }
 628:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #endif
 629:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   return (retVal);
 1035              		.loc 1 629 3 is_stmt 1 view .LVU310
 630:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** }
 1036              		.loc 1 630 1 is_stmt 0 view .LVU311
 1037 000a 7047     		bx	lr
 1038              		.cfi_endproc
 1039              	.LFE1452:
 1041              		.section	.text.STC_StopSpeedRamp,"ax",%progbits
 1042              		.align	1
 1043              		.weak	STC_StopSpeedRamp
 1044              		.syntax unified
 1045              		.thumb
ARM GAS  /tmp/cchc7McC.s 			page 31


 1046              		.thumb_func
 1047              		.fpu fpv4-sp-d16
 1049              	STC_StopSpeedRamp:
 1050              	.LVL96:
 1051              	.LFB1453:
 631:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** 
 632:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** /**
 633:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @brief  Stop the execution of speed ramp.
 634:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @param  pHandle: handler of the current instance of the SpeednTorqCtrl component
 635:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @retval bool It returns true if the command is executed, false otherwise.
 636:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   */
 637:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** __weak bool STC_StopSpeedRamp(SpeednTorqCtrl_Handle_t *pHandle)
 638:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** {
 1052              		.loc 1 638 1 is_stmt 1 view -0
 1053              		.cfi_startproc
 1054              		@ args = 0, pretend = 0, frame = 0
 1055              		@ frame_needed = 0, uses_anonymous_args = 0
 1056              		@ link register save eliminated.
 639:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   bool retVal = false;
 1057              		.loc 1 639 3 view .LVU313
 640:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #ifdef NULL_PTR_SPD_TRQ_CTL
 641:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   if (MC_NULL == pHandle)
 642:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   {
 643:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     /* Nothing to do */
 644:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   }
 645:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   else
 646:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   {
 647:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #endif
 648:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     if (MCM_SPEED_MODE == pHandle->Mode)
 1058              		.loc 1 648 5 view .LVU314
 1059              		.loc 1 648 34 is_stmt 0 view .LVU315
 1060 0000 0378     		ldrb	r3, [r0]	@ zero_extendqisi2
 1061              		.loc 1 648 8 view .LVU316
 1062 0002 032B     		cmp	r3, #3
 1063 0004 01D0     		beq	.L72
 639:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   bool retVal = false;
 1064              		.loc 1 639 8 view .LVU317
 1065 0006 0020     		movs	r0, #0
 1066              	.LVL97:
 649:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     {
 650:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       pHandle->RampRemainingStep = 0u;
 651:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       retVal = true;
 652:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     }
 653:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #ifdef NULL_PTR_SPD_TRQ_CTL
 654:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   }
 655:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #endif
 656:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   return (retVal);
 1067              		.loc 1 656 3 is_stmt 1 view .LVU318
 657:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** }
 1068              		.loc 1 657 1 is_stmt 0 view .LVU319
 1069 0008 7047     		bx	lr
 1070              	.LVL98:
 1071              	.L72:
 650:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       retVal = true;
 1072              		.loc 1 650 7 is_stmt 1 view .LVU320
 650:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       retVal = true;
 1073              		.loc 1 650 34 is_stmt 0 view .LVU321
ARM GAS  /tmp/cchc7McC.s 			page 32


 1074 000a 0023     		movs	r3, #0
 1075 000c C360     		str	r3, [r0, #12]
 651:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     }
 1076              		.loc 1 651 7 is_stmt 1 view .LVU322
 1077              	.LVL99:
 651:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     }
 1078              		.loc 1 651 14 is_stmt 0 view .LVU323
 1079 000e 0120     		movs	r0, #1
 1080              	.LVL100:
 651:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     }
 1081              		.loc 1 651 14 view .LVU324
 1082 0010 7047     		bx	lr
 1083              		.cfi_endproc
 1084              	.LFE1453:
 1086              		.section	.text.STC_GetDefaultIqdref,"ax",%progbits
 1087              		.align	1
 1088              		.weak	STC_GetDefaultIqdref
 1089              		.syntax unified
 1090              		.thumb
 1091              		.thumb_func
 1092              		.fpu fpv4-sp-d16
 1094              	STC_GetDefaultIqdref:
 1095              	.LVL101:
 1096              	.LFB1454:
 658:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** 
 659:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** /**
 660:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @brief It returns the default values of Iqdref.
 661:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @param  pHandle: handler of the current instance of the SpeednTorqCtrl component
 662:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @retval default values of Iqdref.
 663:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   */
 664:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** __weak qd_t STC_GetDefaultIqdref(SpeednTorqCtrl_Handle_t *pHandle)
 665:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** {
 1097              		.loc 1 665 1 is_stmt 1 view -0
 1098              		.cfi_startproc
 1099              		@ args = 0, pretend = 0, frame = 8
 1100              		@ frame_needed = 0, uses_anonymous_args = 0
 1101              		@ link register save eliminated.
 1102              		.loc 1 665 1 is_stmt 0 view .LVU326
 1103 0000 82B0     		sub	sp, sp, #8
 1104              		.cfi_def_cfa_offset 8
 666:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   qd_t IqdRefDefault;
 1105              		.loc 1 666 3 is_stmt 1 view .LVU327
 667:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #ifdef NULL_PTR_SPD_TRQ_CTL
 668:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   if (MC_NULL == pHandle)
 669:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   {
 670:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     IqdRefDefault.q = 0;
 671:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     IqdRefDefault.d = 0;
 672:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   }
 673:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   else
 674:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   {
 675:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #endif
 676:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     IqdRefDefault.q = pHandle->TorqueRefDefault;
 1106              		.loc 1 676 5 view .LVU328
 1107              		.loc 1 676 30 is_stmt 0 view .LVU329
 1108 0002 B0F92E30 		ldrsh	r3, [r0, #46]
 1109              		.loc 1 676 21 view .LVU330
 1110 0006 ADF80030 		strh	r3, [sp]	@ movhi
ARM GAS  /tmp/cchc7McC.s 			page 33


 677:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     IqdRefDefault.d = pHandle->IdrefDefault;
 1111              		.loc 1 677 5 is_stmt 1 view .LVU331
 1112              		.loc 1 677 30 is_stmt 0 view .LVU332
 1113 000a B0F93030 		ldrsh	r3, [r0, #48]
 1114              		.loc 1 677 21 view .LVU333
 1115 000e ADF80230 		strh	r3, [sp, #2]	@ movhi
 678:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #ifdef NULL_PTR_SPD_TRQ_CTL
 679:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   }
 680:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #endif
 681:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   return (IqdRefDefault);
 1116              		.loc 1 681 3 is_stmt 1 view .LVU334
 1117              		.loc 1 681 10 is_stmt 0 view .LVU335
 1118 0012 009B     		ldr	r3, [sp]
 1119 0014 0020     		movs	r0, #0
 1120              	.LVL102:
 1121              		.loc 1 681 10 view .LVU336
 1122 0016 9AB2     		uxth	r2, r3
 1123 0018 62F30F00 		bfi	r0, r2, #0, #16
 1124 001c 1B0C     		lsrs	r3, r3, #16
 1125 001e 63F31F40 		bfi	r0, r3, #16, #16
 682:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** }
 1126              		.loc 1 682 1 view .LVU337
 1127 0022 02B0     		add	sp, sp, #8
 1128              		.cfi_def_cfa_offset 0
 1129              		@ sp needed
 1130 0024 7047     		bx	lr
 1131              		.cfi_endproc
 1132              	.LFE1454:
 1134              		.section	.text.STC_SetNominalCurrent,"ax",%progbits
 1135              		.align	1
 1136              		.weak	STC_SetNominalCurrent
 1137              		.syntax unified
 1138              		.thumb
 1139              		.thumb_func
 1140              		.fpu fpv4-sp-d16
 1142              	STC_SetNominalCurrent:
 1143              	.LVL103:
 1144              	.LFB1455:
 683:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** 
 684:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** /**
 685:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @brief  Change the nominal current .
 686:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @param  pHandle: handler of the current instance of the SpeednTorqCtrl component
 687:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @param  hNominalCurrent This value represents actually the maximum Iq current
 688:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****             expressed in digit.
 689:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @retval none
 690:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   */
 691:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** __weak void STC_SetNominalCurrent(SpeednTorqCtrl_Handle_t *pHandle, uint16_t hNominalCurrent)
 692:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** {
 1145              		.loc 1 692 1 is_stmt 1 view -0
 1146              		.cfi_startproc
 1147              		@ args = 0, pretend = 0, frame = 0
 1148              		@ frame_needed = 0, uses_anonymous_args = 0
 1149              		@ link register save eliminated.
 693:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #ifdef NULL_PTR_SPD_TRQ_CTL
 694:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   if (MC_NULL == pHandle)
 695:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   {
 696:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     /* Nothing to do */
ARM GAS  /tmp/cchc7McC.s 			page 34


 697:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   }
 698:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   else
 699:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   {
 700:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #endif
 701:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     pHandle->MaxPositiveTorque = hNominalCurrent;
 1150              		.loc 1 701 5 view .LVU339
 1151              		.loc 1 701 32 is_stmt 0 view .LVU340
 1152 0000 C184     		strh	r1, [r0, #38]	@ movhi
 702:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     pHandle->MinNegativeTorque = -(int16_t)hNominalCurrent;
 1153              		.loc 1 702 5 is_stmt 1 view .LVU341
 1154              		.loc 1 702 32 is_stmt 0 view .LVU342
 1155 0002 4942     		rsbs	r1, r1, #0
 1156              	.LVL104:
 1157              		.loc 1 702 32 view .LVU343
 1158 0004 0185     		strh	r1, [r0, #40]	@ movhi
 703:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #ifdef NULL_PTR_SPD_TRQ_CTL
 704:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   }
 705:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #endif
 706:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** }
 1159              		.loc 1 706 1 view .LVU344
 1160 0006 7047     		bx	lr
 1161              		.cfi_endproc
 1162              	.LFE1455:
 1164              		.section	.text.STC_ForceSpeedReferenceToCurrentSpeed,"ax",%progbits
 1165              		.align	1
 1166              		.weak	STC_ForceSpeedReferenceToCurrentSpeed
 1167              		.syntax unified
 1168              		.thumb
 1169              		.thumb_func
 1170              		.fpu fpv4-sp-d16
 1172              	STC_ForceSpeedReferenceToCurrentSpeed:
 1173              	.LVL105:
 1174              	.LFB1456:
 707:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** 
 708:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** /**
 709:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @brief  Force the speed reference to the curren speed. It is used
 710:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         at the START_RUN state to initialize the speed reference.
 711:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @param  pHandle: handler of the current instance of the SpeednTorqCtrl component
 712:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @retval none
 713:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   */
 714:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** __weak void STC_ForceSpeedReferenceToCurrentSpeed(SpeednTorqCtrl_Handle_t *pHandle)
 715:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** {
 1175              		.loc 1 715 1 is_stmt 1 view -0
 1176              		.cfi_startproc
 1177              		@ args = 0, pretend = 0, frame = 0
 1178              		@ frame_needed = 0, uses_anonymous_args = 0
 1179              		.loc 1 715 1 is_stmt 0 view .LVU346
 1180 0000 10B5     		push	{r4, lr}
 1181              		.cfi_def_cfa_offset 8
 1182              		.cfi_offset 4, -8
 1183              		.cfi_offset 14, -4
 1184 0002 0446     		mov	r4, r0
 716:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #ifdef NULL_PTR_SPD_TRQ_CTL
 717:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   if (MC_NULL == pHandle)
 718:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   {
 719:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     /* Nothing to do */
 720:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   }
ARM GAS  /tmp/cchc7McC.s 			page 35


 721:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   else
 722:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   {
 723:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #endif
 724:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     pHandle->SpeedRefUnitExt = ((int32_t)SPD_GetAvrgMecSpeedUnit(pHandle->SPD)) * (int32_t)65536;
 1185              		.loc 1 724 5 is_stmt 1 view .LVU347
 1186              		.loc 1 724 42 is_stmt 0 view .LVU348
 1187 0004 4069     		ldr	r0, [r0, #20]
 1188              	.LVL106:
 1189              		.loc 1 724 42 view .LVU349
 1190 0006 FFF7FEFF 		bl	SPD_GetAvrgMecSpeedUnit
 1191              	.LVL107:
 1192              		.loc 1 724 81 view .LVU350
 1193 000a 0004     		lsls	r0, r0, #16
 1194              		.loc 1 724 30 view .LVU351
 1195 000c 6060     		str	r0, [r4, #4]
 725:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #ifdef NULL_PTR_SPD_TRQ_CTL
 726:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   }
 727:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #endif
 728:MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** }
 1196              		.loc 1 728 1 view .LVU352
 1197 000e 10BD     		pop	{r4, pc}
 1198              		.loc 1 728 1 view .LVU353
 1199              		.cfi_endproc
 1200              	.LFE1456:
 1202              		.section	.bss.prevAngle.13774,"aw",%nobits
 1203              		.align	1
 1204              		.set	.LANCHOR0,. + 0
 1207              	prevAngle.13774:
 1208 0000 0000     		.space	2
 1209              		.section	.bss.sectionCounter.13775,"aw",%nobits
 1210              		.align	1
 1211              		.set	.LANCHOR1,. + 0
 1214              	sectionCounter.13775:
 1215 0000 0000     		.space	2
 1216              		.text
 1217              	.Letext0:
 1218              		.file 2 "/usr/lib/gcc/arm-none-eabi/9.2.1/include/stdint.h"
 1219              		.file 3 "Drivers/CMSIS/Include/core_cm4.h"
 1220              		.file 4 "Drivers/CMSIS/Device/ST/STM32G4xx/Include/system_stm32g4xx.h"
 1221              		.file 5 "Drivers/STM32G4xx_HAL_Driver/Inc/stm32g4xx_hal_def.h"
 1222              		.file 6 "Drivers/STM32G4xx_HAL_Driver/Inc/stm32g4xx_hal_flash.h"
 1223              		.file 7 "Drivers/STM32G4xx_HAL_Driver/Inc/stm32g4xx_hal.h"
 1224              		.file 8 "Drivers/STM32G4xx_HAL_Driver/Inc/stm32g4xx_ll_tim.h"
 1225              		.file 9 "Drivers/STM32G4xx_HAL_Driver/Inc/stm32g4xx_ll_usart.h"
 1226              		.file 10 "Drivers/STM32G4xx_HAL_Driver/Inc/stm32g4xx_ll_dma.h"
 1227              		.file 11 "MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Inc/mc_type.h"
 1228              		.file 12 "MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Inc/pid_regulator.h"
 1229              		.file 13 "MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_pos_fdbk.h"
 1230              		.file 14 "MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h"
 1231              		.file 15 "Inc/mc_math.h"
 1232              		.file 16 "MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Inc/virtual_speed_sensor.h"
 1233              		.file 17 "MCSDK_v6.0.0-Full/MotorControl/MCSDK/MCLib/Any/Inc/sto_speed_pos_fdbk.h"
 1234              		.file 18 "Inc/debug_scope.h"
ARM GAS  /tmp/cchc7McC.s 			page 36


DEFINED SYMBOLS
                            *ABS*:0000000000000000 speed_torq_ctrl.c
     /tmp/cchc7McC.s:18     .text.STC_Init:0000000000000000 $t
     /tmp/cchc7McC.s:26     .text.STC_Init:0000000000000000 STC_Init
     /tmp/cchc7McC.s:76     .text.STC_SetSpeedSensor:0000000000000000 $t
     /tmp/cchc7McC.s:83     .text.STC_SetSpeedSensor:0000000000000000 STC_SetSpeedSensor
     /tmp/cchc7McC.s:100    .text.STC_GetSpeedSensor:0000000000000000 $t
     /tmp/cchc7McC.s:107    .text.STC_GetSpeedSensor:0000000000000000 STC_GetSpeedSensor
     /tmp/cchc7McC.s:125    .text.STC_Clear:0000000000000000 $t
     /tmp/cchc7McC.s:132    .text.STC_Clear:0000000000000000 STC_Clear
     /tmp/cchc7McC.s:169    .text.STC_GetMecSpeedRefUnit:0000000000000000 $t
     /tmp/cchc7McC.s:176    .text.STC_GetMecSpeedRefUnit:0000000000000000 STC_GetMecSpeedRefUnit
     /tmp/cchc7McC.s:194    .text.STC_GetTorqueRef:0000000000000000 $t
     /tmp/cchc7McC.s:201    .text.STC_GetTorqueRef:0000000000000000 STC_GetTorqueRef
     /tmp/cchc7McC.s:219    .text.STC_SetControlMode:0000000000000000 $t
     /tmp/cchc7McC.s:226    .text.STC_SetControlMode:0000000000000000 STC_SetControlMode
     /tmp/cchc7McC.s:247    .text.STC_GetControlMode:0000000000000000 $t
     /tmp/cchc7McC.s:254    .text.STC_GetControlMode:0000000000000000 STC_GetControlMode
     /tmp/cchc7McC.s:272    .text.STC_ExecRamp:0000000000000000 $t
     /tmp/cchc7McC.s:279    .text.STC_ExecRamp:0000000000000000 STC_ExecRamp
     /tmp/cchc7McC.s:484    .text.STC_ExecRamp:000000000000009c $d
     /tmp/cchc7McC.s:489    .text.STC_ExecSin:0000000000000000 $t
     /tmp/cchc7McC.s:496    .text.STC_ExecSin:0000000000000000 STC_ExecSin
     /tmp/cchc7McC.s:759    .text.STC_ExecSin:0000000000000108 $d
     /tmp/cchc7McC.s:767    .text.STC_StopRamp:0000000000000000 $t
     /tmp/cchc7McC.s:774    .text.STC_StopRamp:0000000000000000 STC_StopRamp
     /tmp/cchc7McC.s:795    .text.STC_CalcTorqueReference:0000000000000000 $t
     /tmp/cchc7McC.s:802    .text.STC_CalcTorqueReference:0000000000000000 STC_CalcTorqueReference
     /tmp/cchc7McC.s:929    .text.STC_GetMecSpeedRefUnitDefault:0000000000000000 $t
     /tmp/cchc7McC.s:936    .text.STC_GetMecSpeedRefUnitDefault:0000000000000000 STC_GetMecSpeedRefUnitDefault
     /tmp/cchc7McC.s:954    .text.STC_GetMaxAppPositiveMecSpeedUnit:0000000000000000 $t
     /tmp/cchc7McC.s:961    .text.STC_GetMaxAppPositiveMecSpeedUnit:0000000000000000 STC_GetMaxAppPositiveMecSpeedUnit
     /tmp/cchc7McC.s:979    .text.STC_GetMinAppNegativeMecSpeedUnit:0000000000000000 $t
     /tmp/cchc7McC.s:986    .text.STC_GetMinAppNegativeMecSpeedUnit:0000000000000000 STC_GetMinAppNegativeMecSpeedUnit
     /tmp/cchc7McC.s:1004   .text.STC_RampCompleted:0000000000000000 $t
     /tmp/cchc7McC.s:1011   .text.STC_RampCompleted:0000000000000000 STC_RampCompleted
     /tmp/cchc7McC.s:1042   .text.STC_StopSpeedRamp:0000000000000000 $t
     /tmp/cchc7McC.s:1049   .text.STC_StopSpeedRamp:0000000000000000 STC_StopSpeedRamp
     /tmp/cchc7McC.s:1087   .text.STC_GetDefaultIqdref:0000000000000000 $t
     /tmp/cchc7McC.s:1094   .text.STC_GetDefaultIqdref:0000000000000000 STC_GetDefaultIqdref
     /tmp/cchc7McC.s:1135   .text.STC_SetNominalCurrent:0000000000000000 $t
     /tmp/cchc7McC.s:1142   .text.STC_SetNominalCurrent:0000000000000000 STC_SetNominalCurrent
     /tmp/cchc7McC.s:1165   .text.STC_ForceSpeedReferenceToCurrentSpeed:0000000000000000 $t
     /tmp/cchc7McC.s:1172   .text.STC_ForceSpeedReferenceToCurrentSpeed:0000000000000000 STC_ForceSpeedReferenceToCurrentSpeed
     /tmp/cchc7McC.s:1203   .bss.prevAngle.13774:0000000000000000 $d
     /tmp/cchc7McC.s:1207   .bss.prevAngle.13774:0000000000000000 prevAngle.13774
     /tmp/cchc7McC.s:1210   .bss.sectionCounter.13775:0000000000000000 $d
     /tmp/cchc7McC.s:1214   .bss.sectionCounter.13775:0000000000000000 sectionCounter.13775

UNDEFINED SYMBOLS
PID_SetIntegralTerm
MCM_Trig_Functions
DebugScopeInsertData
STO_M1
debugScopeM1
SPD_GetAvrgMecSpeedUnit
PI_Controller
ARM GAS  /tmp/cchc7McC.s 			page 37


