ARM GAS  /tmp/cc2oXrP5.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"virtual_speed_sensor.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.VSS_Clear,"ax",%progbits
  18              		.align	1
  19              		.weak	VSS_Clear
  20              		.arch armv7e-m
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  24              		.fpu fpv4-sp-d16
  26              	VSS_Clear:
  27              	.LVL0:
  28              	.LFB1436:
  29              		.file 1 "MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c"
   1:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** /**
   2:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   ******************************************************************************
   3:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @file    virtual_speed_sensor.c
   4:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @author  Motor Control SDK Team, ST Microelectronics
   5:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @brief   This file provides firmware functions that implement the features
   6:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   *          of the Virtual Speed Sensor component of the Motor Control SDK.
   7:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   *
   8:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   ******************************************************************************
   9:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @attention
  10:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   *
  11:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * <h2><center>&copy; Copyright (c) 2022 STMicroelectronics.
  12:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * All rights reserved.</center></h2>
  13:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   *
  14:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * This software component is licensed by ST under Ultimate Liberty license
  15:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * SLA0044, the "License"; You may not use this file except in compliance with
  16:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * the License. You may obtain a copy of the License at:
  17:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   *                             www.st.com/SLA0044
  18:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   *
  19:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   ******************************************************************************
  20:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @ingroup VirtualSpeedSensor
  21:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   */
  22:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
  23:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** /* Includes ------------------------------------------------------------------*/
  24:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #include "virtual_speed_sensor.h"
  25:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
  26:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
  27:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** /** @addtogroup MCSDK
  28:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @{
  29:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   */
ARM GAS  /tmp/cc2oXrP5.s 			page 2


  30:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
  31:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** /** @addtogroup SpeednPosFdbk
  32:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @{
  33:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   */
  34:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
  35:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** /** @defgroup VirtualSpeedSensor Virtual Speed & Position Feedback
  36:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @brief Virtual Speed Speed & Position Feedback implementation
  37:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   *
  38:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * This component provides a "virtual" implementation of the speed and position feedback features.
  39:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * This implementation provides a theoretical estimation of the speed and position of the rotor of
  40:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * the motor based on a mechanical acceleration and an initial angle set by the application.
  41:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   *
  42:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * This component is used during the @ref RevUpCtrl "Rev-Up Control" phases of the motor or in an
  43:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @ref OpenLoop "Open Loop Control" configuration in a sensorless subsystem.
  44:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   *
  45:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   *
  46:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @{
  47:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   */
  48:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
  49:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** /**
  50:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @brief  Software initialization of VirtualSpeedSensor component.
  51:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @param  pHandle: handler of the current instance of the VirtualSpeedSensor component.
  52:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @retval none
  53:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   *
  54:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * - Calls VSS_Clear.
  55:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * - Called at initialization of the whole MC core.
  56:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   */
  57:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** __weak void VSS_Init(VirtualSpeedSensor_Handle_t *pHandle)
  58:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** {
  59:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   VSS_Clear(pHandle);
  60:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** }
  61:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
  62:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** /**
  63:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @brief  Software initialization of VSS object to be performed at each restart
  64:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   *         of the motor.
  65:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @param  pHandle: handler of the current instance of the VirtualSpeedSensor component.
  66:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @retval none
  67:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   */
  68:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** __weak void VSS_Clear(VirtualSpeedSensor_Handle_t *pHandle)
  69:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** {
  30              		.loc 1 69 1 view -0
  31              		.cfi_startproc
  32              		@ args = 0, pretend = 0, frame = 0
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  34              		@ link register save eliminated.
  70:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #ifdef NULL_PTR_VIR_SPD_SEN
  71:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   if (MC_NULL == pHandle)
  72:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   {
  73:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     /* Nothing to do */
  74:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   }
  75:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   else
  76:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   {
  77:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #endif
  78:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     pHandle->_Super.bSpeedErrorNumber = 0U;
  35              		.loc 1 78 5 view .LVU1
  36              		.loc 1 78 39 is_stmt 0 view .LVU2
  37 0000 0023     		movs	r3, #0
ARM GAS  /tmp/cc2oXrP5.s 			page 3


  38 0002 0370     		strb	r3, [r0]
  79:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     pHandle->_Super.hElAngle = 0;
  39              		.loc 1 79 5 is_stmt 1 view .LVU3
  40              		.loc 1 79 30 is_stmt 0 view .LVU4
  41 0004 8380     		strh	r3, [r0, #4]	@ movhi
  80:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     pHandle->_Super.hMecAngle = 0;
  42              		.loc 1 80 5 is_stmt 1 view .LVU5
  43              		.loc 1 80 31 is_stmt 0 view .LVU6
  44 0006 C380     		strh	r3, [r0, #6]	@ movhi
  81:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     pHandle->_Super.hAvrMecSpeedUnit = 0;
  45              		.loc 1 81 5 is_stmt 1 view .LVU7
  46              		.loc 1 81 38 is_stmt 0 view .LVU8
  47 0008 8381     		strh	r3, [r0, #12]	@ movhi
  82:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     pHandle->_Super.hElSpeedDpp = 0;
  48              		.loc 1 82 5 is_stmt 1 view .LVU9
  49              		.loc 1 82 33 is_stmt 0 view .LVU10
  50 000a C381     		strh	r3, [r0, #14]	@ movhi
  83:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     pHandle->_Super.hMecAccelUnitP = 0;
  51              		.loc 1 83 5 is_stmt 1 view .LVU11
  52              		.loc 1 83 36 is_stmt 0 view .LVU12
  53 000c 4382     		strh	r3, [r0, #18]	@ movhi
  84:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     pHandle->_Super.bSpeedErrorNumber = 0U;
  54              		.loc 1 84 5 is_stmt 1 view .LVU13
  85:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
  86:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     pHandle->wElAccDppP32 = 0;
  55              		.loc 1 86 5 view .LVU14
  56              		.loc 1 86 27 is_stmt 0 view .LVU15
  57 000e 0362     		str	r3, [r0, #32]
  87:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     pHandle->wElSpeedDpp32 = 0;
  58              		.loc 1 87 5 is_stmt 1 view .LVU16
  59              		.loc 1 87 28 is_stmt 0 view .LVU17
  60 0010 4362     		str	r3, [r0, #36]
  88:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     pHandle->hRemainingStep = 0U;
  61              		.loc 1 88 5 is_stmt 1 view .LVU18
  62              		.loc 1 88 29 is_stmt 0 view .LVU19
  63 0012 0385     		strh	r3, [r0, #40]	@ movhi
  89:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     pHandle->hElAngleAccu = 0;
  64              		.loc 1 89 5 is_stmt 1 view .LVU20
  65              		.loc 1 89 27 is_stmt 0 view .LVU21
  66 0014 0386     		strh	r3, [r0, #48]	@ movhi
  90:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
  91:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     pHandle->bTransitionStarted = false;
  67              		.loc 1 91 5 is_stmt 1 view .LVU22
  68              		.loc 1 91 33 is_stmt 0 view .LVU23
  69 0016 80F82C30 		strb	r3, [r0, #44]
  92:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     pHandle->bTransitionEnded = false;
  70              		.loc 1 92 5 is_stmt 1 view .LVU24
  71              		.loc 1 92 31 is_stmt 0 view .LVU25
  72 001a 80F82D30 		strb	r3, [r0, #45]
  93:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     pHandle->hTransitionRemainingSteps = pHandle->hTransitionSteps;
  73              		.loc 1 93 5 is_stmt 1 view .LVU26
  74              		.loc 1 93 49 is_stmt 0 view .LVU27
  75 001e B0F93620 		ldrsh	r2, [r0, #54]
  76              		.loc 1 93 40 view .LVU28
  77 0022 C285     		strh	r2, [r0, #46]	@ movhi
  94:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     pHandle->bTransitionLocked = false;
  78              		.loc 1 94 5 is_stmt 1 view .LVU29
ARM GAS  /tmp/cc2oXrP5.s 			page 4


  79              		.loc 1 94 32 is_stmt 0 view .LVU30
  80 0024 80F83230 		strb	r3, [r0, #50]
  95:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
  96:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     pHandle->bCopyObserver = false;
  81              		.loc 1 96 5 is_stmt 1 view .LVU31
  82              		.loc 1 96 28 is_stmt 0 view .LVU32
  83 0028 80F83330 		strb	r3, [r0, #51]
  97:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #ifdef NULL_PTR_VIR_SPD_SEN
  98:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   }
  99:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #endif
 100:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** }
  84              		.loc 1 100 1 view .LVU33
  85 002c 7047     		bx	lr
  86              		.cfi_endproc
  87              	.LFE1436:
  89              		.section	.text.VSS_Init,"ax",%progbits
  90              		.align	1
  91              		.weak	VSS_Init
  92              		.syntax unified
  93              		.thumb
  94              		.thumb_func
  95              		.fpu fpv4-sp-d16
  97              	VSS_Init:
  98              	.LVL1:
  99              	.LFB1435:
  58:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   VSS_Clear(pHandle);
 100              		.loc 1 58 1 is_stmt 1 view -0
 101              		.cfi_startproc
 102              		@ args = 0, pretend = 0, frame = 0
 103              		@ frame_needed = 0, uses_anonymous_args = 0
  58:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   VSS_Clear(pHandle);
 104              		.loc 1 58 1 is_stmt 0 view .LVU35
 105 0000 08B5     		push	{r3, lr}
 106              		.cfi_def_cfa_offset 8
 107              		.cfi_offset 3, -8
 108              		.cfi_offset 14, -4
  59:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** }
 109              		.loc 1 59 3 is_stmt 1 view .LVU36
 110 0002 FFF7FEFF 		bl	VSS_Clear
 111              	.LVL2:
  60:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
 112              		.loc 1 60 1 is_stmt 0 view .LVU37
 113 0006 08BD     		pop	{r3, pc}
 114              		.cfi_endproc
 115              	.LFE1435:
 117              		.section	.text.VSS_CalcElAngle,"ax",%progbits
 118              		.align	1
 119              		.weak	VSS_CalcElAngle
 120              		.syntax unified
 121              		.thumb
 122              		.thumb_func
 123              		.fpu fpv4-sp-d16
 125              	VSS_CalcElAngle:
 126              	.LVL3:
 127              	.LFB1437:
 101:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
 102:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #if defined (CCMRAM)
ARM GAS  /tmp/cc2oXrP5.s 			page 5


 103:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #if defined (__ICCARM__)
 104:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #pragma location = ".ccmram"
 105:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #elif defined (__CC_ARM) || defined(__GNUC__)
 106:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** __attribute__((section(".ccmram")))
 107:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #endif
 108:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #endif
 109:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** /**
 110:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @brief  Updates the rotor electrical angle integrating the last settled
 111:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   *         instantaneous electrical speed express in [dpp](measurement_units.md).
 112:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @param  pHandle: handler of the current instance of the VirtualSpeedSensor component.
 113:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @retval int16_t Measured electrical angle in s16degree format.
 114:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   *
 115:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * - Systematically called after #SPD_GetElAngle that retrieves last computed rotor electrical ang
 116:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   */
 117:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** __weak int16_t VSS_CalcElAngle(VirtualSpeedSensor_Handle_t *pHandle, int16_t *pInputVars_str)
 118:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** {
 128              		.loc 1 118 1 is_stmt 1 view -0
 129              		.cfi_startproc
 130              		@ args = 0, pretend = 0, frame = 0
 131              		@ frame_needed = 0, uses_anonymous_args = 0
 132              		@ link register save eliminated.
 133              		.loc 1 118 1 is_stmt 0 view .LVU39
 134 0000 0346     		mov	r3, r0
 119:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   int16_t hRetAngle;
 135              		.loc 1 119 3 is_stmt 1 view .LVU40
 120:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #ifdef NULL_PTR_VIR_SPD_SEN
 121:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   if ((MC_NULL == pHandle) || (MC_NULL == pInputVars_str))
 122:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   {
 123:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     hRetAngle = 0;
 124:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   }
 125:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   else
 126:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   {
 127:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #endif
 128:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     int16_t hAngleDiff;
 136              		.loc 1 128 5 view .LVU41
 129:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     int32_t wAux;
 137              		.loc 1 129 5 view .LVU42
 130:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     int16_t hAngleCorr;
 138              		.loc 1 130 5 view .LVU43
 131:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     int16_t hSignCorr = 1;
 139              		.loc 1 131 5 view .LVU44
 140              	.LVL4:
 132:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
 133:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     if (true == pHandle->bCopyObserver)
 141              		.loc 1 133 5 view .LVU45
 142              		.loc 1 133 24 is_stmt 0 view .LVU46
 143 0002 90F83320 		ldrb	r2, [r0, #51]	@ zero_extendqisi2
 144              		.loc 1 133 8 view .LVU47
 145 0006 1AB1     		cbz	r2, .L5
 134:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     {
 135:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       hRetAngle = *(int16_t *)pInputVars_str;
 146              		.loc 1 135 7 is_stmt 1 view .LVU48
 147              		.loc 1 135 17 is_stmt 0 view .LVU49
 148 0008 B1F90000 		ldrsh	r0, [r1]
 149              	.LVL5:
 136:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     }
 137:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     else
ARM GAS  /tmp/cc2oXrP5.s 			page 6


 138:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     {
 139:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       pHandle->hElAngleAccu += pHandle->_Super.hElSpeedDpp;
 140:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       pHandle->_Super.hMecAngle += (pHandle->_Super.hElSpeedDpp / (int16_t)pHandle->_Super.bElToMec
 141:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
 142:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       if (true == pHandle->bTransitionStarted)
 143:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       {
 144:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****         if (0 == pHandle->hTransitionRemainingSteps)
 145:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****         {
 146:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****           hRetAngle = *(int16_t *)pInputVars_str;
 147:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****           pHandle->bTransitionEnded = true;
 148:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****           pHandle->_Super.bSpeedErrorNumber = 0U;
 149:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****         }
 150:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****         else
 151:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****         {
 152:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****           pHandle->hTransitionRemainingSteps--;
 153:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
 154:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****           if (pHandle->_Super.hElSpeedDpp >= 0)
 155:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****           {
 156:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****             hAngleDiff = *(int16_t *)pInputVars_str - pHandle->hElAngleAccu;
 157:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****           }
 158:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****           else
 159:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****           {
 160:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****             hAngleDiff = pHandle->hElAngleAccu - *(int16_t *)pInputVars_str;
 161:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****             hSignCorr = -1;
 162:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****           }
 163:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
 164:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****           wAux = (int32_t)hAngleDiff * pHandle->hTransitionRemainingSteps;
 165:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****           hAngleCorr = (int16_t)(wAux / pHandle->hTransitionSteps);
 166:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****           hAngleCorr *= hSignCorr;
 167:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
 168:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****           if (hAngleDiff >= 0)
 169:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****           {
 170:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****             pHandle->bTransitionLocked = true;
 171:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****             hRetAngle = *(int16_t *)pInputVars_str - hAngleCorr;
 172:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****           }
 173:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****           else
 174:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****           {
 175:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****             if (false == pHandle->bTransitionLocked)
 176:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****             {
 177:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****               hRetAngle = pHandle->hElAngleAccu;
 178:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****             }
 179:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****             else
 180:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****             {
 181:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****               hRetAngle = *(int16_t *)pInputVars_str + hAngleCorr;
 182:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****             }
 183:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****           }
 184:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****         }
 185:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       }
 186:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       else
 187:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       {
 188:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****         hRetAngle = pHandle->hElAngleAccu;
 189:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       }
 190:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     }
 191:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
 192:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     pHandle->_Super.hElAngle = hRetAngle;
 150              		.loc 1 192 5 is_stmt 1 view .LVU50
 151              		.loc 1 192 30 is_stmt 0 view .LVU51
ARM GAS  /tmp/cc2oXrP5.s 			page 7


 152 000c 9880     		strh	r0, [r3, #4]	@ movhi
 193:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #ifdef NULL_PTR_VIR_SPD_SEN
 194:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   }
 195:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #endif
 196:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   return (hRetAngle);
 153              		.loc 1 196 3 is_stmt 1 view .LVU52
 197:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** }
 154              		.loc 1 197 1 is_stmt 0 view .LVU53
 155 000e 7047     		bx	lr
 156              	.LVL6:
 157              	.L5:
 118:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   int16_t hRetAngle;
 158              		.loc 1 118 1 view .LVU54
 159 0010 70B4     		push	{r4, r5, r6}
 160              		.cfi_def_cfa_offset 12
 161              		.cfi_offset 4, -12
 162              		.cfi_offset 5, -8
 163              		.cfi_offset 6, -4
 139:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       pHandle->_Super.hMecAngle += (pHandle->_Super.hElSpeedDpp / (int16_t)pHandle->_Super.bElToMec
 164              		.loc 1 139 7 is_stmt 1 view .LVU55
 139:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       pHandle->_Super.hMecAngle += (pHandle->_Super.hElSpeedDpp / (int16_t)pHandle->_Super.bElToMec
 165              		.loc 1 139 47 is_stmt 0 view .LVU56
 166 0012 B0F90E40 		ldrsh	r4, [r0, #14]
 139:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       pHandle->_Super.hMecAngle += (pHandle->_Super.hElSpeedDpp / (int16_t)pHandle->_Super.bElToMec
 167              		.loc 1 139 29 view .LVU57
 168 0016 008E     		ldrh	r0, [r0, #48]
 169              	.LVL7:
 139:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       pHandle->_Super.hMecAngle += (pHandle->_Super.hElSpeedDpp / (int16_t)pHandle->_Super.bElToMec
 170              		.loc 1 139 29 view .LVU58
 171 0018 10FA84F0 		uxtah	r0, r0, r4
 172 001c 86B2     		uxth	r6, r0
 173 001e 00B2     		sxth	r0, r0
 174 0020 1886     		strh	r0, [r3, #48]	@ movhi
 140:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
 175              		.loc 1 140 7 is_stmt 1 view .LVU59
 140:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
 176              		.loc 1 140 91 is_stmt 0 view .LVU60
 177 0022 5A78     		ldrb	r2, [r3, #1]	@ zero_extendqisi2
 140:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
 178              		.loc 1 140 65 view .LVU61
 179 0024 94FBF2F2 		sdiv	r2, r4, r2
 140:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
 180              		.loc 1 140 33 view .LVU62
 181 0028 DD88     		ldrh	r5, [r3, #6]
 182 002a 2A44     		add	r2, r2, r5
 183 002c DA80     		strh	r2, [r3, #6]	@ movhi
 142:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       {
 184              		.loc 1 142 7 is_stmt 1 view .LVU63
 142:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       {
 185              		.loc 1 142 26 is_stmt 0 view .LVU64
 186 002e 93F82C20 		ldrb	r2, [r3, #44]	@ zero_extendqisi2
 142:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       {
 187              		.loc 1 142 10 view .LVU65
 188 0032 4AB1     		cbz	r2, .L6
 144:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****         {
 189              		.loc 1 144 9 is_stmt 1 view .LVU66
 144:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****         {
ARM GAS  /tmp/cc2oXrP5.s 			page 8


 190              		.loc 1 144 25 is_stmt 0 view .LVU67
 191 0034 B3F92E20 		ldrsh	r2, [r3, #46]
 144:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****         {
 192              		.loc 1 144 12 view .LVU68
 193 0038 4AB9     		cbnz	r2, .L7
 146:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****           pHandle->bTransitionEnded = true;
 194              		.loc 1 146 11 is_stmt 1 view .LVU69
 146:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****           pHandle->bTransitionEnded = true;
 195              		.loc 1 146 21 is_stmt 0 view .LVU70
 196 003a B1F90000 		ldrsh	r0, [r1]
 197              	.LVL8:
 147:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****           pHandle->_Super.bSpeedErrorNumber = 0U;
 198              		.loc 1 147 11 is_stmt 1 view .LVU71
 147:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****           pHandle->_Super.bSpeedErrorNumber = 0U;
 199              		.loc 1 147 37 is_stmt 0 view .LVU72
 200 003e 0122     		movs	r2, #1
 201 0040 83F82D20 		strb	r2, [r3, #45]
 148:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****         }
 202              		.loc 1 148 11 is_stmt 1 view .LVU73
 148:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****         }
 203              		.loc 1 148 45 is_stmt 0 view .LVU74
 204 0044 0022     		movs	r2, #0
 205 0046 1A70     		strb	r2, [r3]
 206              	.LVL9:
 207              	.L6:
 192:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #ifdef NULL_PTR_VIR_SPD_SEN
 208              		.loc 1 192 5 is_stmt 1 view .LVU75
 192:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #ifdef NULL_PTR_VIR_SPD_SEN
 209              		.loc 1 192 30 is_stmt 0 view .LVU76
 210 0048 9880     		strh	r0, [r3, #4]	@ movhi
 196:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** }
 211              		.loc 1 196 3 is_stmt 1 view .LVU77
 212              		.loc 1 197 1 is_stmt 0 view .LVU78
 213 004a 70BC     		pop	{r4, r5, r6}
 214              		.cfi_remember_state
 215              		.cfi_restore 6
 216              		.cfi_restore 5
 217              		.cfi_restore 4
 218              		.cfi_def_cfa_offset 0
 219 004c 7047     		bx	lr
 220              	.LVL10:
 221              	.L7:
 222              		.cfi_restore_state
 152:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
 223              		.loc 1 152 11 is_stmt 1 view .LVU79
 152:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
 224              		.loc 1 152 45 is_stmt 0 view .LVU80
 225 004e 013A     		subs	r2, r2, #1
 226 0050 12B2     		sxth	r2, r2
 227 0052 DA85     		strh	r2, [r3, #46]	@ movhi
 154:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****           {
 228              		.loc 1 154 11 is_stmt 1 view .LVU81
 154:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****           {
 229              		.loc 1 154 14 is_stmt 0 view .LVU82
 230 0054 002C     		cmp	r4, #0
 231 0056 15DB     		blt	.L8
 156:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****           }
ARM GAS  /tmp/cc2oXrP5.s 			page 9


 232              		.loc 1 156 13 is_stmt 1 view .LVU83
 156:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****           }
 233              		.loc 1 156 26 is_stmt 0 view .LVU84
 234 0058 0C88     		ldrh	r4, [r1]
 156:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****           }
 235              		.loc 1 156 53 view .LVU85
 236 005a A61B     		subs	r6, r4, r6
 156:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****           }
 237              		.loc 1 156 24 view .LVU86
 238 005c 36B2     		sxth	r6, r6
 239              	.LVL11:
 131:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
 240              		.loc 1 131 13 view .LVU87
 241 005e 0125     		movs	r5, #1
 242              	.LVL12:
 243              	.L9:
 164:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****           hAngleCorr = (int16_t)(wAux / pHandle->hTransitionSteps);
 244              		.loc 1 164 11 is_stmt 1 view .LVU88
 164:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****           hAngleCorr = (int16_t)(wAux / pHandle->hTransitionSteps);
 245              		.loc 1 164 16 is_stmt 0 view .LVU89
 246 0060 02FB06F2 		mul	r2, r2, r6
 247              	.LVL13:
 165:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****           hAngleCorr *= hSignCorr;
 248              		.loc 1 165 11 is_stmt 1 view .LVU90
 165:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****           hAngleCorr *= hSignCorr;
 249              		.loc 1 165 48 is_stmt 0 view .LVU91
 250 0064 B3F93640 		ldrsh	r4, [r3, #54]
 165:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****           hAngleCorr *= hSignCorr;
 251              		.loc 1 165 39 view .LVU92
 252 0068 92FBF4F2 		sdiv	r2, r2, r4
 253              	.LVL14:
 166:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
 254              		.loc 1 166 11 is_stmt 1 view .LVU93
 166:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
 255              		.loc 1 166 22 is_stmt 0 view .LVU94
 256 006c 12FB05F2 		smulbb	r2, r2, r5
 257              	.LVL15:
 166:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
 258              		.loc 1 166 22 view .LVU95
 259 0070 92B2     		uxth	r2, r2
 260              	.LVL16:
 168:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****           {
 261              		.loc 1 168 11 is_stmt 1 view .LVU96
 168:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****           {
 262              		.loc 1 168 14 is_stmt 0 view .LVU97
 263 0072 002E     		cmp	r6, #0
 264 0074 0CDB     		blt	.L10
 170:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****             hRetAngle = *(int16_t *)pInputVars_str - hAngleCorr;
 265              		.loc 1 170 13 is_stmt 1 view .LVU98
 170:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****             hRetAngle = *(int16_t *)pInputVars_str - hAngleCorr;
 266              		.loc 1 170 40 is_stmt 0 view .LVU99
 267 0076 0120     		movs	r0, #1
 268 0078 83F83200 		strb	r0, [r3, #50]
 171:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****           }
 269              		.loc 1 171 13 is_stmt 1 view .LVU100
 171:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****           }
 270              		.loc 1 171 25 is_stmt 0 view .LVU101
ARM GAS  /tmp/cc2oXrP5.s 			page 10


 271 007c 0888     		ldrh	r0, [r1]
 171:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****           }
 272              		.loc 1 171 52 view .LVU102
 273 007e 821A     		subs	r2, r0, r2
 274              	.LVL17:
 171:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****           }
 275              		.loc 1 171 23 view .LVU103
 276 0080 10B2     		sxth	r0, r2
 277              	.LVL18:
 171:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****           }
 278              		.loc 1 171 23 view .LVU104
 279 0082 E1E7     		b	.L6
 280              	.LVL19:
 281              	.L8:
 160:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****             hSignCorr = -1;
 282              		.loc 1 160 13 is_stmt 1 view .LVU105
 160:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****             hSignCorr = -1;
 283              		.loc 1 160 50 is_stmt 0 view .LVU106
 284 0084 0C88     		ldrh	r4, [r1]
 160:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****             hSignCorr = -1;
 285              		.loc 1 160 48 view .LVU107
 286 0086 361B     		subs	r6, r6, r4
 160:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****             hSignCorr = -1;
 287              		.loc 1 160 24 view .LVU108
 288 0088 36B2     		sxth	r6, r6
 289              	.LVL20:
 161:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****           }
 290              		.loc 1 161 13 is_stmt 1 view .LVU109
 161:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****           }
 291              		.loc 1 161 23 is_stmt 0 view .LVU110
 292 008a 4FF0FF35 		mov	r5, #-1
 293 008e E7E7     		b	.L9
 294              	.LVL21:
 295              	.L10:
 175:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****             {
 296              		.loc 1 175 13 is_stmt 1 view .LVU111
 175:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****             {
 297              		.loc 1 175 33 is_stmt 0 view .LVU112
 298 0090 93F83240 		ldrb	r4, [r3, #50]	@ zero_extendqisi2
 175:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****             {
 299              		.loc 1 175 16 view .LVU113
 300 0094 002C     		cmp	r4, #0
 301 0096 D7D0     		beq	.L6
 181:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****             }
 302              		.loc 1 181 15 is_stmt 1 view .LVU114
 181:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****             }
 303              		.loc 1 181 27 is_stmt 0 view .LVU115
 304 0098 0888     		ldrh	r0, [r1]
 181:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****             }
 305              		.loc 1 181 54 view .LVU116
 306 009a 0244     		add	r2, r2, r0
 307              	.LVL22:
 181:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****             }
 308              		.loc 1 181 25 view .LVU117
 309 009c 10B2     		sxth	r0, r2
 310              	.LVL23:
 181:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****             }
ARM GAS  /tmp/cc2oXrP5.s 			page 11


 311              		.loc 1 181 25 view .LVU118
 312 009e D3E7     		b	.L6
 313              		.cfi_endproc
 314              	.LFE1437:
 316              		.section	.text.VSS_CalcAvrgMecSpeedUnit,"ax",%progbits
 317              		.align	1
 318              		.weak	VSS_CalcAvrgMecSpeedUnit
 319              		.syntax unified
 320              		.thumb
 321              		.thumb_func
 322              		.fpu fpv4-sp-d16
 324              	VSS_CalcAvrgMecSpeedUnit:
 325              	.LVL24:
 326              	.LFB1438:
 198:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
 199:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** /**
 200:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @brief  Computes and stores rotor instantaneous electrical speed (express
 201:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   *         in [dpp](measurement_units.md) considering the measurement frequency) in order to provi
 202:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   *         to #SPD_GetElAngle.
 203:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @param  pHandle: handler of the current instance of the VirtualSpeedSensor component.
 204:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @param  hMecSpeedUnit pointer to int16_t, used to return the rotor average
 205:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   *         mechanical speed [SPEED_UNIT](measurement_units.md).
 206:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @retval bool true = sensor information is reliable and false = sensor information is not reliab
 207:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   *
 208:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * - Stores and returns through parameter hMecSpeedUnit the rotor average mechanical speed,
 209:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   *  expressed in the unit defined by [SPEED_UNIT](measurement_units.md).
 210:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * - Returns the reliability state of the sensor (always true).
 211:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * - Called with the same periodicity on which speed control is executed, precisely during START a
 212:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * of the MC tasks state machine or in its RUM state in @ref OpenLoop "Open Loop Control" configur
 213:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   */
 214:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** __weak bool VSS_CalcAvrgMecSpeedUnit(VirtualSpeedSensor_Handle_t *pHandle, int16_t *hMecSpeedUnit)
 215:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** {
 327              		.loc 1 215 1 is_stmt 1 view -0
 328              		.cfi_startproc
 329              		@ args = 0, pretend = 0, frame = 0
 330              		@ frame_needed = 0, uses_anonymous_args = 0
 331              		.loc 1 215 1 is_stmt 0 view .LVU120
 332 0000 10B5     		push	{r4, lr}
 333              		.cfi_def_cfa_offset 8
 334              		.cfi_offset 4, -8
 335              		.cfi_offset 14, -4
 336 0002 0346     		mov	r3, r0
 216:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   bool SpeedSensorReliability;
 337              		.loc 1 216 3 is_stmt 1 view .LVU121
 217:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #ifdef NULL_PTR_VIR_SPD_SEN
 218:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   if ((MC_NULL == pHandle) || (MC_NULL == hMecSpeedUnit))
 219:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   {
 220:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     SpeedSensorReliability = false;
 221:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   }
 222:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   else
 223:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   {
 224:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #endif
 225:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     if (pHandle->hRemainingStep > 1u)
 338              		.loc 1 225 5 view .LVU122
 339              		.loc 1 225 16 is_stmt 0 view .LVU123
 340 0004 028D     		ldrh	r2, [r0, #40]
 341              		.loc 1 225 8 view .LVU124
ARM GAS  /tmp/cc2oXrP5.s 			page 12


 342 0006 012A     		cmp	r2, #1
 343 0008 1DD9     		bls	.L15
 226:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     {
 227:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       pHandle->wElSpeedDpp32 += pHandle->wElAccDppP32;
 344              		.loc 1 227 7 is_stmt 1 view .LVU125
 345              		.loc 1 227 40 is_stmt 0 view .LVU126
 346 000a 026A     		ldr	r2, [r0, #32]
 347              		.loc 1 227 30 view .LVU127
 348 000c 406A     		ldr	r0, [r0, #36]
 349              	.LVL25:
 350              		.loc 1 227 30 view .LVU128
 351 000e 1044     		add	r0, r0, r2
 352 0010 5862     		str	r0, [r3, #36]
 228:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #ifndef FULL_MISRA_C_COMPLIANCY_VIRT_SPD_SENS
 229:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       //cstat !MISRAC2012-Rule-1.3_n !ATH-shift-neg !MISRAC2012-Rule-10.1_R6
 230:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       pHandle->_Super.hElSpeedDpp = (int16_t)(pHandle->wElSpeedDpp32 >> 16);
 353              		.loc 1 230 7 is_stmt 1 view .LVU129
 354              		.loc 1 230 37 is_stmt 0 view .LVU130
 355 0012 0014     		asrs	r0, r0, #16
 356              		.loc 1 230 35 view .LVU131
 357 0014 D881     		strh	r0, [r3, #14]	@ movhi
 231:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #else
 232:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       pHandle->_Super.hElSpeedDpp = (int16_t)(pHandle->wElSpeedDpp32 / 65536);
 233:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #endif
 234:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
 235:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       /* Convert dpp into MecUnit */
 236:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       *hMecSpeedUnit = (int16_t)((((int32_t)pHandle->_Super.hElSpeedDpp)
 358              		.loc 1 236 7 is_stmt 1 view .LVU132
 237:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****                                * ((int32_t )pHandle->_Super.hMeasurementFrequency) * SPEED_UNIT)
 359              		.loc 1 237 60 is_stmt 0 view .LVU133
 360 0016 5A8B     		ldrh	r2, [r3, #26]
 361              		.loc 1 237 32 view .LVU134
 362 0018 02FB00F2 		mul	r2, r2, r0
 363              		.loc 1 237 84 view .LVU135
 364 001c 02EB8202 		add	r2, r2, r2, lsl #2
 365 0020 5200     		lsls	r2, r2, #1
 238:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****                                / (((int32_t)pHandle->_Super.DPPConvFactor) * ((int32_t)pHandle->_Su
 366              		.loc 1 238 60 view .LVU136
 367 0022 DC69     		ldr	r4, [r3, #28]
 368              		.loc 1 238 103 view .LVU137
 369 0024 5878     		ldrb	r0, [r3, #1]	@ zero_extendqisi2
 370              		.loc 1 238 76 view .LVU138
 371 0026 00FB04F0 		mul	r0, r0, r4
 372              		.loc 1 238 32 view .LVU139
 373 002a 92FBF0F2 		sdiv	r2, r2, r0
 236:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****                                * ((int32_t )pHandle->_Super.hMeasurementFrequency) * SPEED_UNIT)
 374              		.loc 1 236 24 view .LVU140
 375 002e 12B2     		sxth	r2, r2
 236:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****                                * ((int32_t )pHandle->_Super.hMeasurementFrequency) * SPEED_UNIT)
 376              		.loc 1 236 22 view .LVU141
 377 0030 0A80     		strh	r2, [r1]	@ movhi
 239:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       pHandle->_Super.hAvrMecSpeedUnit = *hMecSpeedUnit;
 378              		.loc 1 239 7 is_stmt 1 view .LVU142
 379              		.loc 1 239 40 is_stmt 0 view .LVU143
 380 0032 9A81     		strh	r2, [r3, #12]	@ movhi
 240:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       pHandle->hRemainingStep--;
 381              		.loc 1 240 7 is_stmt 1 view .LVU144
ARM GAS  /tmp/cc2oXrP5.s 			page 13


 382              		.loc 1 240 14 is_stmt 0 view .LVU145
 383 0034 1A8D     		ldrh	r2, [r3, #40]
 384              		.loc 1 240 30 view .LVU146
 385 0036 013A     		subs	r2, r2, #1
 386 0038 1A85     		strh	r2, [r3, #40]	@ movhi
 387              	.L16:
 241:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     }
 242:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     else if (1U == pHandle->hRemainingStep)
 243:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     {
 244:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       *hMecSpeedUnit = pHandle->hFinalMecSpeedUnit;
 245:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       pHandle->_Super.hAvrMecSpeedUnit = *hMecSpeedUnit;
 246:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       pHandle->_Super.hElSpeedDpp = (int16_t)((((int32_t)*hMecSpeedUnit) * ((int32_t)pHandle->_Supe
 247:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****                                             / (((int32_t)SPEED_UNIT) * ((int32_t)pHandle->_Super.hM
 248:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       pHandle->_Super.hElSpeedDpp *= ((int16_t)pHandle->_Super.bElToMecRatio);
 249:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       pHandle->hRemainingStep = 0U;
 250:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     }
 251:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     else
 252:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     {
 253:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       *hMecSpeedUnit = pHandle->_Super.hAvrMecSpeedUnit;
 254:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     }
 255:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     /* If the transition is not done yet, we already know that speed is not reliable */
 256:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     if (false == pHandle->bTransitionEnded)
 388              		.loc 1 256 5 is_stmt 1 view .LVU147
 389              		.loc 1 256 25 is_stmt 0 view .LVU148
 390 003a 93F82D00 		ldrb	r0, [r3, #45]	@ zero_extendqisi2
 391              		.loc 1 256 8 view .LVU149
 392 003e E8B9     		cbnz	r0, .L18
 257:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     {
 258:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       pHandle->_Super.bSpeedErrorNumber = pHandle->_Super.bMaximumSpeedErrorsNumber;
 393              		.loc 1 258 7 is_stmt 1 view .LVU150
 394              		.loc 1 258 58 is_stmt 0 view .LVU151
 395 0040 DA78     		ldrb	r2, [r3, #3]	@ zero_extendqisi2
 396              		.loc 1 258 41 view .LVU152
 397 0042 1A70     		strb	r2, [r3]
 259:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       SpeedSensorReliability = false;
 398              		.loc 1 259 7 is_stmt 1 view .LVU153
 399              	.LVL26:
 400              	.L19:
 260:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     }
 261:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     else
 262:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     {
 263:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       SpeedSensorReliability = SPD_IsMecSpeedReliable(&pHandle->_Super, hMecSpeedUnit);
 264:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     }
 265:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #ifdef NULL_PTR_VIR_SPD_SEN
 266:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   }
 267:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #endif
 268:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   return (SpeedSensorReliability);
 401              		.loc 1 268 3 view .LVU154
 269:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** }
 402              		.loc 1 269 1 is_stmt 0 view .LVU155
 403 0044 10BD     		pop	{r4, pc}
 404              	.LVL27:
 405              	.L15:
 242:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     {
 406              		.loc 1 242 10 is_stmt 1 view .LVU156
 242:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     {
 407              		.loc 1 242 13 is_stmt 0 view .LVU157
ARM GAS  /tmp/cc2oXrP5.s 			page 14


 408 0046 012A     		cmp	r2, #1
 409 0048 03D0     		beq	.L21
 253:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     }
 410              		.loc 1 253 7 is_stmt 1 view .LVU158
 253:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     }
 411              		.loc 1 253 39 is_stmt 0 view .LVU159
 412 004a B0F90C20 		ldrsh	r2, [r0, #12]
 253:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     }
 413              		.loc 1 253 22 view .LVU160
 414 004e 0A80     		strh	r2, [r1]	@ movhi
 415 0050 F3E7     		b	.L16
 416              	.L21:
 244:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       pHandle->_Super.hAvrMecSpeedUnit = *hMecSpeedUnit;
 417              		.loc 1 244 7 is_stmt 1 view .LVU161
 244:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       pHandle->_Super.hAvrMecSpeedUnit = *hMecSpeedUnit;
 418              		.loc 1 244 31 is_stmt 0 view .LVU162
 419 0052 B0F92A00 		ldrsh	r0, [r0, #42]
 420              	.LVL28:
 244:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       pHandle->_Super.hAvrMecSpeedUnit = *hMecSpeedUnit;
 421              		.loc 1 244 22 view .LVU163
 422 0056 0880     		strh	r0, [r1]	@ movhi
 245:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       pHandle->_Super.hElSpeedDpp = (int16_t)((((int32_t)*hMecSpeedUnit) * ((int32_t)pHandle->_Supe
 423              		.loc 1 245 7 is_stmt 1 view .LVU164
 245:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       pHandle->_Super.hElSpeedDpp = (int16_t)((((int32_t)*hMecSpeedUnit) * ((int32_t)pHandle->_Supe
 424              		.loc 1 245 40 is_stmt 0 view .LVU165
 425 0058 9881     		strh	r0, [r3, #12]	@ movhi
 246:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****                                             / (((int32_t)SPEED_UNIT) * ((int32_t)pHandle->_Super.hM
 426              		.loc 1 246 7 is_stmt 1 view .LVU166
 246:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****                                             / (((int32_t)SPEED_UNIT) * ((int32_t)pHandle->_Super.hM
 427              		.loc 1 246 101 is_stmt 0 view .LVU167
 428 005a DA69     		ldr	r2, [r3, #28]
 246:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****                                             / (((int32_t)SPEED_UNIT) * ((int32_t)pHandle->_Super.hM
 429              		.loc 1 246 74 view .LVU168
 430 005c 02FB00F2 		mul	r2, r2, r0
 247:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       pHandle->_Super.hElSpeedDpp *= ((int16_t)pHandle->_Super.bElToMecRatio);
 431              		.loc 1 247 97 view .LVU169
 432 0060 588B     		ldrh	r0, [r3, #26]
 247:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       pHandle->_Super.hElSpeedDpp *= ((int16_t)pHandle->_Super.bElToMecRatio);
 433              		.loc 1 247 70 view .LVU170
 434 0062 00EB8000 		add	r0, r0, r0, lsl #2
 435 0066 4000     		lsls	r0, r0, #1
 247:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       pHandle->_Super.hElSpeedDpp *= ((int16_t)pHandle->_Super.bElToMecRatio);
 436              		.loc 1 247 45 view .LVU171
 437 0068 92FBF0F2 		sdiv	r2, r2, r0
 246:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****                                             / (((int32_t)SPEED_UNIT) * ((int32_t)pHandle->_Super.hM
 438              		.loc 1 246 37 view .LVU172
 439 006c 12B2     		sxth	r2, r2
 248:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       pHandle->hRemainingStep = 0U;
 440              		.loc 1 248 7 is_stmt 1 view .LVU173
 248:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       pHandle->hRemainingStep = 0U;
 441              		.loc 1 248 63 is_stmt 0 view .LVU174
 442 006e 5878     		ldrb	r0, [r3, #1]	@ zero_extendqisi2
 248:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       pHandle->hRemainingStep = 0U;
 443              		.loc 1 248 35 view .LVU175
 444 0070 12FB00F2 		smulbb	r2, r2, r0
 445 0074 DA81     		strh	r2, [r3, #14]	@ movhi
 249:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     }
ARM GAS  /tmp/cc2oXrP5.s 			page 15


 446              		.loc 1 249 7 is_stmt 1 view .LVU176
 249:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     }
 447              		.loc 1 249 31 is_stmt 0 view .LVU177
 448 0076 0022     		movs	r2, #0
 449 0078 1A85     		strh	r2, [r3, #40]	@ movhi
 450 007a DEE7     		b	.L16
 451              	.L18:
 263:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     }
 452              		.loc 1 263 7 is_stmt 1 view .LVU178
 263:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     }
 453              		.loc 1 263 32 is_stmt 0 view .LVU179
 454 007c 1846     		mov	r0, r3
 455 007e FFF7FEFF 		bl	SPD_IsMecSpeedReliable
 456              	.LVL29:
 263:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     }
 457              		.loc 1 263 32 view .LVU180
 458 0082 DFE7     		b	.L19
 459              		.cfi_endproc
 460              	.LFE1438:
 462              		.section	.text.VSS_SetMecAngle,"ax",%progbits
 463              		.align	1
 464              		.weak	VSS_SetMecAngle
 465              		.syntax unified
 466              		.thumb
 467              		.thumb_func
 468              		.fpu fpv4-sp-d16
 470              	VSS_SetMecAngle:
 471              	.LVL30:
 472              	.LFB1439:
 270:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
 271:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** /**
 272:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @brief  Sets instantaneous information on VSS mechanical and electrical angle.
 273:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @param  pHandle: handler of the current instance of the VirtualSpeedSensor component.
 274:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @param  hMecAngle: instantaneous measure of rotor mechanical angle.
 275:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @retval none
 276:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   *
 277:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * - Called during @ref RevUpCtrl "Rev-Up Control" and
 278:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @ref EncAlignCtrl "Encoder Alignment Controller procedure" initialization.
 279:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   */
 280:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** __weak void VSS_SetMecAngle(VirtualSpeedSensor_Handle_t *pHandle, int16_t hMecAngle)
 281:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** {
 473              		.loc 1 281 1 is_stmt 1 view -0
 474              		.cfi_startproc
 475              		@ args = 0, pretend = 0, frame = 0
 476              		@ frame_needed = 0, uses_anonymous_args = 0
 477              		@ link register save eliminated.
 282:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #ifdef NULL_PTR_VIR_SPD_SEN
 283:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   if (MC_NULL == pHandle)
 284:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   {
 285:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     /* Nothing to do */
 286:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   }
 287:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   else
 288:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   {
 289:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #endif
 290:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     pHandle->hElAngleAccu = hMecAngle;
 478              		.loc 1 290 5 view .LVU182
 479              		.loc 1 290 27 is_stmt 0 view .LVU183
ARM GAS  /tmp/cc2oXrP5.s 			page 16


 480 0000 0186     		strh	r1, [r0, #48]	@ movhi
 291:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     pHandle->_Super.hMecAngle = pHandle->hElAngleAccu / ((int16_t)pHandle->_Super.bElToMecRatio);
 481              		.loc 1 291 5 is_stmt 1 view .LVU184
 482              		.loc 1 291 82 is_stmt 0 view .LVU185
 483 0002 4378     		ldrb	r3, [r0, #1]	@ zero_extendqisi2
 484              		.loc 1 291 55 view .LVU186
 485 0004 91FBF3F3 		sdiv	r3, r1, r3
 486              		.loc 1 291 31 view .LVU187
 487 0008 C380     		strh	r3, [r0, #6]	@ movhi
 292:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     pHandle->_Super.hElAngle = hMecAngle;
 488              		.loc 1 292 5 is_stmt 1 view .LVU188
 489              		.loc 1 292 30 is_stmt 0 view .LVU189
 490 000a 8180     		strh	r1, [r0, #4]	@ movhi
 293:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #ifdef NULL_PTR_VIR_SPD_SEN
 294:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   }
 295:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #endif
 296:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** }
 491              		.loc 1 296 1 view .LVU190
 492 000c 7047     		bx	lr
 493              		.cfi_endproc
 494              	.LFE1439:
 496              		.section	.text.VSS_SetMecAcceleration,"ax",%progbits
 497              		.align	1
 498              		.weak	VSS_SetMecAcceleration
 499              		.syntax unified
 500              		.thumb
 501              		.thumb_func
 502              		.fpu fpv4-sp-d16
 504              	VSS_SetMecAcceleration:
 505              	.LVL31:
 506              	.LFB1440:
 297:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
 298:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** /**
 299:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @brief  Sets the mechanical acceleration of virtual speed sensor.
 300:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @param  pHandle: handler of the current instance of the VirtualSpeedSensor component.
 301:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @param  hFinalMecSpeedUnit mechanical speed assumed by
 302:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   *         the virtual speed sensor at the end of the duration. Expressed in the unit defined
 303:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   *         by [SPEED_UNIT](measurement_units.md).
 304:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @param  hDurationms: Duration expressed in ms. It can be 0 to apply
 305:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   *         instantaneous the final speed.
 306:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @retval none
 307:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   *
 308:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * - This acceleration is defined starting from current mechanical speed, final mechanical
 309:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * speed expressed in [SPEED_UNIT](measurement_units.md) and duration expressed in milliseconds.
 310:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * - Called during @ref RevUpCtrl "Rev-Up Control" and
 311:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @ref EncAlignCtrl "Encoder Alignment Controller procedure" initialization.
 312:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   */
 313:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** __weak void  VSS_SetMecAcceleration(VirtualSpeedSensor_Handle_t *pHandle, int16_t hFinalMecSpeedUni
 314:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****                                     uint16_t hDurationms)
 315:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** {
 507              		.loc 1 315 1 is_stmt 1 view -0
 508              		.cfi_startproc
 509              		@ args = 0, pretend = 0, frame = 0
 510              		@ frame_needed = 0, uses_anonymous_args = 0
 511              		@ link register save eliminated.
 316:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #ifdef NULL_PTR_VIR_SPD_SEN
 317:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   if (MC_NULL == pHandle)
ARM GAS  /tmp/cc2oXrP5.s 			page 17


 318:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   {
 319:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     /* Nothing to do */
 320:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   }
 321:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   else
 322:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   {
 323:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #endif
 324:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     int32_t wMecAccDppP32;
 512              		.loc 1 324 5 view .LVU192
 325:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     uint16_t hNbrStep;
 513              		.loc 1 325 5 view .LVU193
 326:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     int16_t hCurrentMecSpeedDpp;
 514              		.loc 1 326 5 view .LVU194
 327:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     int16_t hFinalMecSpeedDpp;
 515              		.loc 1 327 5 view .LVU195
 328:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
 329:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     if (false == pHandle->bTransitionStarted)
 516              		.loc 1 329 5 view .LVU196
 517              		.loc 1 329 25 is_stmt 0 view .LVU197
 518 0000 90F82C30 		ldrb	r3, [r0, #44]	@ zero_extendqisi2
 519              		.loc 1 329 8 view .LVU198
 520 0004 002B     		cmp	r3, #0
 521 0006 3BD1     		bne	.L28
 330:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     {
 331:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       if (0U == hDurationms)
 522              		.loc 1 331 7 is_stmt 1 view .LVU199
 523              		.loc 1 331 10 is_stmt 0 view .LVU200
 524 0008 92B9     		cbnz	r2, .L25
 332:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       {
 333:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****         pHandle->_Super.hAvrMecSpeedUnit = hFinalMecSpeedUnit;
 525              		.loc 1 333 9 is_stmt 1 view .LVU201
 526              		.loc 1 333 42 is_stmt 0 view .LVU202
 527 000a 8181     		strh	r1, [r0, #12]	@ movhi
 334:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
 335:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****         pHandle->_Super.hElSpeedDpp = (int16_t)((((int32_t)hFinalMecSpeedUnit)
 528              		.loc 1 335 9 is_stmt 1 view .LVU203
 336:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****                                                * ((int32_t)pHandle->_Super.DPPConvFactor))
 529              		.loc 1 336 75 is_stmt 0 view .LVU204
 530 000c C369     		ldr	r3, [r0, #28]
 531              		.loc 1 336 48 view .LVU205
 532 000e 03FB01F3 		mul	r3, r3, r1
 337:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****                                               / (((int32_t)SPEED_UNIT)
 338:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****                                                * ((int32_t)pHandle->_Super.hMeasurementFrequency)))
 533              		.loc 1 338 75 view .LVU206
 534 0012 428B     		ldrh	r2, [r0, #26]
 535              	.LVL32:
 536              		.loc 1 338 48 view .LVU207
 537 0014 02EB8202 		add	r2, r2, r2, lsl #2
 538 0018 5200     		lsls	r2, r2, #1
 337:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****                                               / (((int32_t)SPEED_UNIT)
 539              		.loc 1 337 47 view .LVU208
 540 001a 93FBF2F3 		sdiv	r3, r3, r2
 335:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****                                                * ((int32_t)pHandle->_Super.DPPConvFactor))
 541              		.loc 1 335 39 view .LVU209
 542 001e 1BB2     		sxth	r3, r3
 339:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
 340:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****         pHandle->_Super.hElSpeedDpp *= ((int16_t)pHandle->_Super.bElToMecRatio);
 543              		.loc 1 340 9 is_stmt 1 view .LVU210
ARM GAS  /tmp/cc2oXrP5.s 			page 18


 544              		.loc 1 340 65 is_stmt 0 view .LVU211
 545 0020 4278     		ldrb	r2, [r0, #1]	@ zero_extendqisi2
 546              		.loc 1 340 37 view .LVU212
 547 0022 13FB02F3 		smulbb	r3, r3, r2
 548 0026 C381     		strh	r3, [r0, #14]	@ movhi
 341:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
 342:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****         pHandle->hRemainingStep = 0U;
 549              		.loc 1 342 9 is_stmt 1 view .LVU213
 550              		.loc 1 342 33 is_stmt 0 view .LVU214
 551 0028 0023     		movs	r3, #0
 552 002a 0385     		strh	r3, [r0, #40]	@ movhi
 343:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
 344:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****         pHandle->hFinalMecSpeedUnit = hFinalMecSpeedUnit;
 553              		.loc 1 344 9 is_stmt 1 view .LVU215
 554              		.loc 1 344 37 is_stmt 0 view .LVU216
 555 002c 4185     		strh	r1, [r0, #42]	@ movhi
 556 002e 7047     		bx	lr
 557              	.LVL33:
 558              	.L25:
 315:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #ifdef NULL_PTR_VIR_SPD_SEN
 559              		.loc 1 315 1 view .LVU217
 560 0030 F0B4     		push	{r4, r5, r6, r7}
 561              		.cfi_def_cfa_offset 16
 562              		.cfi_offset 4, -16
 563              		.cfi_offset 5, -12
 564              		.cfi_offset 6, -8
 565              		.cfi_offset 7, -4
 345:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       }
 346:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       else
 347:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       {
 348:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****         hNbrStep = (uint16_t)((((uint32_t)hDurationms) * ((uint32_t)pHandle->hSpeedSamplingFreqHz))
 566              		.loc 1 348 9 is_stmt 1 view .LVU218
 567              		.loc 1 348 76 is_stmt 0 view .LVU219
 568 0032 838E     		ldrh	r3, [r0, #52]
 569              		.loc 1 348 56 view .LVU220
 570 0034 03FB02F2 		mul	r2, r3, r2
 571              	.LVL34:
 572              		.loc 1 348 101 view .LVU221
 573 0038 124B     		ldr	r3, .L30
 574 003a A3FB0223 		umull	r2, r3, r3, r2
 575              		.loc 1 348 18 view .LVU222
 576 003e C3F38F13 		ubfx	r3, r3, #6, #16
 577              	.LVL35:
 349:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****         hNbrStep++;
 578              		.loc 1 349 9 is_stmt 1 view .LVU223
 579              		.loc 1 349 17 is_stmt 0 view .LVU224
 580 0042 0133     		adds	r3, r3, #1
 581              	.LVL36:
 582              		.loc 1 349 17 view .LVU225
 583 0044 9BB2     		uxth	r3, r3
 584              	.LVL37:
 350:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****         pHandle->hRemainingStep = hNbrStep;
 585              		.loc 1 350 9 is_stmt 1 view .LVU226
 586              		.loc 1 350 33 is_stmt 0 view .LVU227
 587 0046 0385     		strh	r3, [r0, #40]	@ movhi
 351:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****         hCurrentMecSpeedDpp = pHandle->_Super.hElSpeedDpp / ((int16_t)pHandle->_Super.bElToMecRatio
 588              		.loc 1 351 9 is_stmt 1 view .LVU228
ARM GAS  /tmp/cc2oXrP5.s 			page 19


 589              		.loc 1 351 46 is_stmt 0 view .LVU229
 590 0048 B0F90E50 		ldrsh	r5, [r0, #14]
 591              		.loc 1 351 86 view .LVU230
 592 004c 4678     		ldrb	r6, [r0, #1]	@ zero_extendqisi2
 593              		.loc 1 351 29 view .LVU231
 594 004e 95FBF6F7 		sdiv	r7, r5, r6
 595              	.LVL38:
 352:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****         hFinalMecSpeedDpp = (int16_t)((((int32_t )hFinalMecSpeedUnit) * ((int32_t)pHandle->_Super.D
 596              		.loc 1 352 9 is_stmt 1 view .LVU232
 597              		.loc 1 352 98 is_stmt 0 view .LVU233
 598 0052 C269     		ldr	r2, [r0, #28]
 599              		.loc 1 352 71 view .LVU234
 600 0054 02FB01F2 		mul	r2, r2, r1
 353:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****                                     / (((int32_t )SPEED_UNIT) * ((int32_t)pHandle->_Super.hMeasurem
 601              		.loc 1 353 90 view .LVU235
 602 0058 448B     		ldrh	r4, [r0, #26]
 603              		.loc 1 353 63 view .LVU236
 604 005a 04EB8404 		add	r4, r4, r4, lsl #2
 605 005e 6400     		lsls	r4, r4, #1
 606              		.loc 1 353 37 view .LVU237
 607 0060 92FBF4F2 		sdiv	r2, r2, r4
 352:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****         hFinalMecSpeedDpp = (int16_t)((((int32_t )hFinalMecSpeedUnit) * ((int32_t)pHandle->_Super.D
 608              		.loc 1 352 27 view .LVU238
 609 0064 12B2     		sxth	r2, r2
 610              	.LVL39:
 354:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
 355:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****         if (0U == hNbrStep)
 611              		.loc 1 355 9 is_stmt 1 view .LVU239
 612              		.loc 1 355 12 is_stmt 0 view .LVU240
 613 0066 33B1     		cbz	r3, .L26
 356:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****         {
 357:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****           /* Nothing to do */
 358:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****         }
 359:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****         else
 360:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****         {
 361:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****           wMecAccDppP32 = ((((int32_t)hFinalMecSpeedDpp) - ((int32_t)hCurrentMecSpeedDpp))
 614              		.loc 1 361 11 is_stmt 1 view .LVU241
 615              		.loc 1 361 58 is_stmt 0 view .LVU242
 616 0068 D21B     		subs	r2, r2, r7
 617              	.LVL40:
 362:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****                          * ((int32_t)65536)) / ((int32_t )hNbrStep);
 618              		.loc 1 362 26 view .LVU243
 619 006a 1204     		lsls	r2, r2, #16
 361:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****                          * ((int32_t)65536)) / ((int32_t )hNbrStep);
 620              		.loc 1 361 25 view .LVU244
 621 006c 92FBF3F3 		sdiv	r3, r2, r3
 622              	.LVL41:
 363:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
 364:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****           pHandle->wElAccDppP32 = wMecAccDppP32 * ((int16_t)pHandle->_Super.bElToMecRatio);
 623              		.loc 1 364 11 is_stmt 1 view .LVU245
 624              		.loc 1 364 49 is_stmt 0 view .LVU246
 625 0070 03FB06F3 		mul	r3, r3, r6
 626              	.LVL42:
 627              		.loc 1 364 33 view .LVU247
 628 0074 0362     		str	r3, [r0, #32]
 629              	.L26:
 365:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****         }
ARM GAS  /tmp/cc2oXrP5.s 			page 20


 366:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
 367:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****         pHandle->hFinalMecSpeedUnit = hFinalMecSpeedUnit;
 630              		.loc 1 367 9 is_stmt 1 view .LVU248
 631              		.loc 1 367 37 is_stmt 0 view .LVU249
 632 0076 4185     		strh	r1, [r0, #42]	@ movhi
 368:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
 369:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****         pHandle->wElSpeedDpp32 = ((int32_t)pHandle->_Super.hElSpeedDpp) * ((int32_t)65536);
 633              		.loc 1 369 9 is_stmt 1 view .LVU250
 634              		.loc 1 369 73 is_stmt 0 view .LVU251
 635 0078 2D04     		lsls	r5, r5, #16
 636              		.loc 1 369 32 view .LVU252
 637 007a 4562     		str	r5, [r0, #36]
 370:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       }
 371:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     }
 372:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #ifdef NULL_PTR_VIR_SPD_SEN
 373:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   }
 374:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #endif
 375:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** }
 638              		.loc 1 375 1 view .LVU253
 639 007c F0BC     		pop	{r4, r5, r6, r7}
 640              		.cfi_restore 7
 641              		.cfi_restore 6
 642              		.cfi_restore 5
 643              		.cfi_restore 4
 644              		.cfi_def_cfa_offset 0
 645              	.LVL43:
 646              		.loc 1 375 1 view .LVU254
 647 007e 7047     		bx	lr
 648              	.LVL44:
 649              	.L28:
 650              		.loc 1 375 1 view .LVU255
 651 0080 7047     		bx	lr
 652              	.L31:
 653 0082 00BF     		.align	2
 654              	.L30:
 655 0084 D34D6210 		.word	274877907
 656              		.cfi_endproc
 657              	.LFE1440:
 659              		.section	.text.VSS_RampCompleted,"ax",%progbits
 660              		.align	1
 661              		.weak	VSS_RampCompleted
 662              		.syntax unified
 663              		.thumb
 664              		.thumb_func
 665              		.fpu fpv4-sp-d16
 667              	VSS_RampCompleted:
 668              	.LVL45:
 669              	.LFB1441:
 376:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
 377:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** /**
 378:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @brief  Checks if the ramp executed after a #VSS_SetMecAcceleration command
 379:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   *         has been completed by checking zero value of the Number of steps remaining to reach the
 380:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   *         speed.
 381:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @param  pHandle: handler of the current instance of the VirtualSpeedSensor component.
 382:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @retval bool: true if the ramp is completed, otherwise false.
 383:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   *
 384:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * - Not used into current implementation.
ARM GAS  /tmp/cc2oXrP5.s 			page 21


 385:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   */
 386:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** __weak bool VSS_RampCompleted(VirtualSpeedSensor_Handle_t *pHandle)
 387:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** {
 670              		.loc 1 387 1 is_stmt 1 view -0
 671              		.cfi_startproc
 672              		@ args = 0, pretend = 0, frame = 0
 673              		@ frame_needed = 0, uses_anonymous_args = 0
 674              		@ link register save eliminated.
 388:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   bool retVal = false;
 675              		.loc 1 388 3 view .LVU257
 389:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #ifdef NULL_PTR_VIR_SPD_SEN
 390:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   if (MC_NULL == pHandle)
 391:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   {
 392:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     /* nothing to do */
 393:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   }
 394:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   else
 395:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   {
 396:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #endif
 397:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     if (0U == pHandle->hRemainingStep)
 676              		.loc 1 397 5 view .LVU258
 677              		.loc 1 397 22 is_stmt 0 view .LVU259
 678 0000 038D     		ldrh	r3, [r0, #40]
 679              		.loc 1 397 8 view .LVU260
 680 0002 0BB1     		cbz	r3, .L34
 388:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   bool retVal = false;
 681              		.loc 1 388 8 view .LVU261
 682 0004 0020     		movs	r0, #0
 683              	.LVL46:
 388:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   bool retVal = false;
 684              		.loc 1 388 8 view .LVU262
 685 0006 7047     		bx	lr
 686              	.LVL47:
 687              	.L34:
 398:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     {
 399:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       retVal = true;
 688              		.loc 1 399 14 view .LVU263
 689 0008 0120     		movs	r0, #1
 690              	.LVL48:
 400:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     }
 401:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     else
 402:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     {
 403:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       /* Nothing to do */
 404:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     }
 691              		.loc 1 404 5 is_stmt 1 view .LVU264
 405:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #ifdef NULL_PTR_VIR_SPD_SEN
 406:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   }
 407:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #endif
 408:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   return (retVal);
 692              		.loc 1 408 3 view .LVU265
 409:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** }
 693              		.loc 1 409 1 is_stmt 0 view .LVU266
 694 000a 7047     		bx	lr
 695              		.cfi_endproc
 696              	.LFE1441:
 698              		.section	.text.VSS_GetLastRampFinalSpeed,"ax",%progbits
 699              		.align	1
 700              		.weak	VSS_GetLastRampFinalSpeed
ARM GAS  /tmp/cc2oXrP5.s 			page 22


 701              		.syntax unified
 702              		.thumb
 703              		.thumb_func
 704              		.fpu fpv4-sp-d16
 706              	VSS_GetLastRampFinalSpeed:
 707              	.LVL49:
 708              	.LFB1442:
 410:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
 411:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** /**
 412:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @brief  Gets the final speed of last settled ramp of virtual speed sensor expressed
 413:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****             in [SPEED_UNIT](measurement_units.md).
 414:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @param  pHandle: handler of the current instance of the VirtualSpeedSensor component.
 415:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @retval none
 416:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   *
 417:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * - Will be call for future dual motor implementation into START state of MC tasks state machine 
 418:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   */
 419:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** __weak int16_t  VSS_GetLastRampFinalSpeed(VirtualSpeedSensor_Handle_t *pHandle)
 420:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** {
 709              		.loc 1 420 1 is_stmt 1 view -0
 710              		.cfi_startproc
 711              		@ args = 0, pretend = 0, frame = 0
 712              		@ frame_needed = 0, uses_anonymous_args = 0
 713              		@ link register save eliminated.
 421:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #ifdef NULL_PTR_VIR_SPD_SEN
 422:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   return ((MC_NULL == pHandle) ? 0 : pHandle->hFinalMecSpeedUnit);
 423:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #else
 424:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   return (pHandle->hFinalMecSpeedUnit);
 714              		.loc 1 424 3 view .LVU268
 425:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #endif
 426:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** }
 715              		.loc 1 426 1 is_stmt 0 view .LVU269
 716 0000 B0F92A00 		ldrsh	r0, [r0, #42]
 717              	.LVL50:
 718              		.loc 1 426 1 view .LVU270
 719 0004 7047     		bx	lr
 720              		.cfi_endproc
 721              	.LFE1442:
 723              		.section	.text.VSS_SetStartTransition,"ax",%progbits
 724              		.align	1
 725              		.weak	VSS_SetStartTransition
 726              		.syntax unified
 727              		.thumb
 728              		.thumb_func
 729              		.fpu fpv4-sp-d16
 731              	VSS_SetStartTransition:
 732              	.LVL51:
 733              	.LFB1443:
 427:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
 428:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** /**
 429:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @brief  Sets the command to Start the transition phase from Virtual Speed Sensor
 430:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   *         to other Speed Sensor.
 431:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @param  pHandle: handler of the current instance of the VirtualSpeedSensor component.
 432:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @param  bool: true to Start the transition phase, false has no effect.
 433:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @retval bool: true if Transition phase is enabled (started or not), false if
 434:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   *         transition has been triggered but it's actually disabled
 435:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   *         (parameter #hTransitionSteps = 0).
 436:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   *
ARM GAS  /tmp/cc2oXrP5.s 			page 23


 437:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * - Transition is to be considered ended when Sensor information is
 438:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   *  declared 'Reliable' or if function returned value is false.
 439:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * - Called into START state of MC tasks state machine into TSK_MediumFrequencyTask.
 440:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   */
 441:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** __weak bool VSS_SetStartTransition(VirtualSpeedSensor_Handle_t *pHandle, bool bCommand)
 442:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** {
 734              		.loc 1 442 1 is_stmt 1 view -0
 735              		.cfi_startproc
 736              		@ args = 0, pretend = 0, frame = 0
 737              		@ frame_needed = 0, uses_anonymous_args = 0
 738              		@ link register save eliminated.
 443:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   bool bAux = true;
 739              		.loc 1 443 3 view .LVU272
 444:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #ifdef NULL_PTR_VIR_SPD_SEN
 445:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   if (MC_NULL == pHandle)
 446:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   {
 447:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     /* nothing to do */
 448:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   }
 449:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   else
 450:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   {
 451:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #endif
 452:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     if (true == bCommand)
 740              		.loc 1 452 5 view .LVU273
 741              		.loc 1 452 8 is_stmt 0 view .LVU274
 742 0000 61B1     		cbz	r1, .L38
 453:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     {
 454:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       pHandle->bTransitionStarted = true;
 743              		.loc 1 454 7 is_stmt 1 view .LVU275
 744              		.loc 1 454 35 is_stmt 0 view .LVU276
 745 0002 0122     		movs	r2, #1
 746 0004 80F82C20 		strb	r2, [r0, #44]
 455:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
 456:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       if (0 == pHandle->hTransitionSteps)
 747              		.loc 1 456 7 is_stmt 1 view .LVU277
 748              		.loc 1 456 23 is_stmt 0 view .LVU278
 749 0008 B0F93620 		ldrsh	r2, [r0, #54]
 750              		.loc 1 456 10 view .LVU279
 751 000c 42B9     		cbnz	r2, .L39
 457:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       {
 458:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****         pHandle->bTransitionEnded = true;
 752              		.loc 1 458 9 is_stmt 1 view .LVU280
 753              		.loc 1 458 35 is_stmt 0 view .LVU281
 754 000e 0123     		movs	r3, #1
 755 0010 80F82D30 		strb	r3, [r0, #45]
 459:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****         pHandle->_Super.bSpeedErrorNumber = 0U;
 756              		.loc 1 459 9 is_stmt 1 view .LVU282
 757              		.loc 1 459 43 is_stmt 0 view .LVU283
 758 0014 0023     		movs	r3, #0
 759 0016 0370     		strb	r3, [r0]
 460:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****         bAux = false;
 760              		.loc 1 460 9 is_stmt 1 view .LVU284
 761              	.LVL52:
 762              		.loc 1 460 14 is_stmt 0 view .LVU285
 763 0018 1846     		mov	r0, r3
 764              	.LVL53:
 765              		.loc 1 460 14 view .LVU286
 766 001a 7047     		bx	lr
ARM GAS  /tmp/cc2oXrP5.s 			page 24


 767              	.LVL54:
 768              	.L38:
 443:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #ifdef NULL_PTR_VIR_SPD_SEN
 769              		.loc 1 443 8 view .LVU287
 770 001c 0120     		movs	r0, #1
 771              	.LVL55:
 443:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #ifdef NULL_PTR_VIR_SPD_SEN
 772              		.loc 1 443 8 view .LVU288
 773 001e 7047     		bx	lr
 774              	.LVL56:
 775              	.L39:
 443:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #ifdef NULL_PTR_VIR_SPD_SEN
 776              		.loc 1 443 8 view .LVU289
 777 0020 0846     		mov	r0, r1
 778              	.LVL57:
 461:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       }
 462:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     }
 463:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #ifdef NULL_PTR_VIR_SPD_SEN
 464:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   }
 465:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #endif
 466:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   return (bAux);
 779              		.loc 1 466 3 is_stmt 1 view .LVU290
 467:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** }
 780              		.loc 1 467 1 is_stmt 0 view .LVU291
 781 0022 7047     		bx	lr
 782              		.cfi_endproc
 783              	.LFE1443:
 785              		.section	.text.VSS_IsTransitionOngoing,"ax",%progbits
 786              		.align	1
 787              		.weak	VSS_IsTransitionOngoing
 788              		.syntax unified
 789              		.thumb
 790              		.thumb_func
 791              		.fpu fpv4-sp-d16
 793              	VSS_IsTransitionOngoing:
 794              	.LVL58:
 795              	.LFB1444:
 468:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
 469:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** /**
 470:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @brief  Returns the status of the transition phase by checking the status of the two parameters
 471:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   *         @ref VirtualSpeedSensor_Handle_t::bTransitionStarted "bTransitionStarted" and
 472:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   *         @ref VirtualSpeedSensor_Handle_t::bTransitionEnded "bTransitionEnded".
 473:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @param  pHandle: handler of the current instance of the VirtualSpeedSensor components
 474:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @retval bool: true if Transition phase is ongoing, false otherwise.
 475:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   *
 476:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * - Not used into current implementation.
 477:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   */
 478:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** __weak bool VSS_IsTransitionOngoing(VirtualSpeedSensor_Handle_t *pHandle)
 479:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** {
 796              		.loc 1 479 1 is_stmt 1 view -0
 797              		.cfi_startproc
 798              		@ args = 0, pretend = 0, frame = 0
 799              		@ frame_needed = 0, uses_anonymous_args = 0
 800              		@ link register save eliminated.
 480:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   bool retVal = false;
 801              		.loc 1 480 3 view .LVU293
 481:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #ifdef NULL_PTR_VIR_SPD_SEN
ARM GAS  /tmp/cc2oXrP5.s 			page 25


 482:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   if (MC_NULL == pHandle)
 483:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   {
 484:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     /* nothing to do */
 485:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   }
 486:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   else
 487:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   {
 488:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #endif
 489:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     uint16_t hTS = 0U;
 802              		.loc 1 489 5 view .LVU294
 490:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     uint16_t hTE = 0U;
 803              		.loc 1 490 5 view .LVU295
 491:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     uint16_t hAux;
 804              		.loc 1 491 5 view .LVU296
 492:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
 493:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     if (true == pHandle->bTransitionStarted)
 805              		.loc 1 493 5 view .LVU297
 806              		.loc 1 493 24 is_stmt 0 view .LVU298
 807 0000 90F82C30 		ldrb	r3, [r0, #44]	@ zero_extendqisi2
 808              		.loc 1 493 8 view .LVU299
 809 0004 43B9     		cbnz	r3, .L44
 489:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     uint16_t hTE = 0U;
 810              		.loc 1 489 14 view .LVU300
 811 0006 0022     		movs	r2, #0
 812              	.L41:
 813              	.LVL59:
 494:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     {
 495:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       hTS = 1U;
 496:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     }
 497:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     if (true == pHandle->bTransitionEnded)
 814              		.loc 1 497 5 is_stmt 1 view .LVU301
 815              		.loc 1 497 24 is_stmt 0 view .LVU302
 816 0008 90F82D30 		ldrb	r3, [r0, #45]	@ zero_extendqisi2
 817              		.loc 1 497 8 view .LVU303
 818 000c 03B1     		cbz	r3, .L42
 498:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     {
 499:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       hTE = 1U;
 819              		.loc 1 499 11 view .LVU304
 820 000e 0123     		movs	r3, #1
 821              	.L42:
 822              	.LVL60:
 500:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     }
 501:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     hAux = hTS ^ hTE;
 823              		.loc 1 501 5 is_stmt 1 view .LVU305
 502:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     if (hAux != 0U)
 824              		.loc 1 502 5 view .LVU306
 825              		.loc 1 502 8 is_stmt 0 view .LVU307
 826 0010 9A42     		cmp	r2, r3
 827 0012 03D0     		beq	.L47
 503:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     {
 504:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       retVal = true;
 828              		.loc 1 504 14 view .LVU308
 829 0014 0120     		movs	r0, #1
 830              	.LVL61:
 505:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     }
 506:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #ifdef NULL_PTR_VIR_SPD_SEN
 507:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   }
 508:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #endif
ARM GAS  /tmp/cc2oXrP5.s 			page 26


 509:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   return (retVal);
 831              		.loc 1 509 3 is_stmt 1 view .LVU309
 510:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** }
 832              		.loc 1 510 1 is_stmt 0 view .LVU310
 833 0016 7047     		bx	lr
 834              	.LVL62:
 835              	.L44:
 495:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     }
 836              		.loc 1 495 11 view .LVU311
 837 0018 0122     		movs	r2, #1
 838 001a F5E7     		b	.L41
 839              	.LVL63:
 840              	.L47:
 480:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #ifdef NULL_PTR_VIR_SPD_SEN
 841              		.loc 1 480 8 view .LVU312
 842 001c 0020     		movs	r0, #0
 843              	.LVL64:
 480:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #ifdef NULL_PTR_VIR_SPD_SEN
 844              		.loc 1 480 8 view .LVU313
 845 001e 7047     		bx	lr
 846              		.cfi_endproc
 847              	.LFE1444:
 849              		.section	.text.VSS_TransitionEnded,"ax",%progbits
 850              		.align	1
 851              		.weak	VSS_TransitionEnded
 852              		.syntax unified
 853              		.thumb
 854              		.thumb_func
 855              		.fpu fpv4-sp-d16
 857              	VSS_TransitionEnded:
 858              	.LVL65:
 859              	.LFB1445:
 511:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
 512:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** /**
 513:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @brief  Returns the ending status of the transition phase by checking the parameter
 514:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   *         @ref VirtualSpeedSensor_Handle_t::bTransitionEnded "bTransitionEnded".
 515:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @param  pHandle: handler of the current instance of the VirtualSpeedSensor components
 516:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @retval bool: true if Transition phase ended, false otherwise.
 517:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   *
 518:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * - Called into SWITCH_OVER state of MC tasks state machine into TSK_MediumFrequencyTask.
 519:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   */
 520:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** __weak bool VSS_TransitionEnded(VirtualSpeedSensor_Handle_t *pHandle)
 521:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** {
 860              		.loc 1 521 1 is_stmt 1 view -0
 861              		.cfi_startproc
 862              		@ args = 0, pretend = 0, frame = 0
 863              		@ frame_needed = 0, uses_anonymous_args = 0
 864              		@ link register save eliminated.
 522:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #ifdef NULL_PTR_VIR_SPD_SEN
 523:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   return ((MC_NULL == pHandle) ? false : pHandle->bTransitionEnded);
 524:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #else
 525:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   return (pHandle->bTransitionEnded);
 865              		.loc 1 525 3 view .LVU315
 526:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #endif
 527:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** }
 866              		.loc 1 527 1 is_stmt 0 view .LVU316
 867 0000 90F82D00 		ldrb	r0, [r0, #45]	@ zero_extendqisi2
ARM GAS  /tmp/cc2oXrP5.s 			page 27


 868              	.LVL66:
 869              		.loc 1 527 1 view .LVU317
 870 0004 7047     		bx	lr
 871              		.cfi_endproc
 872              	.LFE1445:
 874              		.section	.text.VSS_SetCopyObserver,"ax",%progbits
 875              		.align	1
 876              		.weak	VSS_SetCopyObserver
 877              		.syntax unified
 878              		.thumb
 879              		.thumb_func
 880              		.fpu fpv4-sp-d16
 882              	VSS_SetCopyObserver:
 883              	.LVL67:
 884              	.LFB1446:
 528:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
 529:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** /**
 530:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @brief  Sets instantaneous information on rotor electrical angle same as copied by state observ
 531:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @param  pHandle: handler of the current instance of the VirtualSpeedSensor component.
 532:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @retval none
 533:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   *
 534:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * - Not used into current implementation.
 535:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   */
 536:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** __weak void VSS_SetCopyObserver(VirtualSpeedSensor_Handle_t *pHandle)
 537:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** {
 885              		.loc 1 537 1 is_stmt 1 view -0
 886              		.cfi_startproc
 887              		@ args = 0, pretend = 0, frame = 0
 888              		@ frame_needed = 0, uses_anonymous_args = 0
 889              		@ link register save eliminated.
 538:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #ifdef NULL_PTR_VIR_SPD_SEN
 539:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   if (MC_NULL == pHandle)
 540:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   {
 541:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     /* Nothing to do */
 542:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   }
 543:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   else
 544:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   {
 545:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #endif
 546:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     pHandle->bCopyObserver = true;
 890              		.loc 1 546 5 view .LVU319
 891              		.loc 1 546 28 is_stmt 0 view .LVU320
 892 0000 0123     		movs	r3, #1
 893 0002 80F83330 		strb	r3, [r0, #51]
 547:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #ifdef NULL_PTR_VIR_SPD_SEN
 548:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   }
 549:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #endif
 550:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** }
 894              		.loc 1 550 1 view .LVU321
 895 0006 7047     		bx	lr
 896              		.cfi_endproc
 897              	.LFE1446:
 899              		.section	.text.VSS_SetElAngle,"ax",%progbits
 900              		.align	1
 901              		.weak	VSS_SetElAngle
 902              		.syntax unified
 903              		.thumb
 904              		.thumb_func
ARM GAS  /tmp/cc2oXrP5.s 			page 28


 905              		.fpu fpv4-sp-d16
 907              	VSS_SetElAngle:
 908              	.LVL68:
 909              	.LFB1447:
 551:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
 552:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** /**
 553:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @brief  Sets instantaneous information on rotor electrical angle.
 554:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @param  pHandle: handler of the current instance of the VirtualSpeedSensor component.
 555:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @param  hElAngle instantaneous measure of rotor electrical angle in [s16degrees](measurement_un
 556:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @retval none
 557:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   *
 558:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * - Not used into current implementation.
 559:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   */
 560:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** __weak void VSS_SetElAngle(VirtualSpeedSensor_Handle_t *pHandle, int16_t hElAngle)
 561:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** {
 910              		.loc 1 561 1 is_stmt 1 view -0
 911              		.cfi_startproc
 912              		@ args = 0, pretend = 0, frame = 0
 913              		@ frame_needed = 0, uses_anonymous_args = 0
 914              		@ link register save eliminated.
 562:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #ifdef NULL_PTR_VIR_SPD_SEN
 563:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   if (MC_NULL == pHandle)
 564:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   {
 565:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     /* Nothing to do */
 566:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   }
 567:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   else
 568:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   {
 569:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #endif
 570:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     pHandle->hElAngleAccu = hElAngle;
 915              		.loc 1 570 5 view .LVU323
 916              		.loc 1 570 27 is_stmt 0 view .LVU324
 917 0000 0186     		strh	r1, [r0, #48]	@ movhi
 571:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     pHandle->_Super.hElAngle = hElAngle;
 918              		.loc 1 571 5 is_stmt 1 view .LVU325
 919              		.loc 1 571 30 is_stmt 0 view .LVU326
 920 0002 8180     		strh	r1, [r0, #4]	@ movhi
 572:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #ifdef NULL_PTR_VIR_SPD_SEN
 573:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   }
 574:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #endif
 575:MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** }
 921              		.loc 1 575 1 view .LVU327
 922 0004 7047     		bx	lr
 923              		.cfi_endproc
 924              	.LFE1447:
 926              		.text
 927              	.Letext0:
 928              		.file 2 "/usr/lib/gcc/arm-none-eabi/9.2.1/include/stdint.h"
 929              		.file 3 "Drivers/CMSIS/Include/core_cm4.h"
 930              		.file 4 "Drivers/CMSIS/Device/ST/STM32G4xx/Include/system_stm32g4xx.h"
 931              		.file 5 "Drivers/STM32G4xx_HAL_Driver/Inc/stm32g4xx_hal_def.h"
 932              		.file 6 "Drivers/STM32G4xx_HAL_Driver/Inc/stm32g4xx_hal_flash.h"
 933              		.file 7 "Drivers/STM32G4xx_HAL_Driver/Inc/stm32g4xx_hal.h"
 934              		.file 8 "Drivers/STM32G4xx_HAL_Driver/Inc/stm32g4xx_ll_tim.h"
 935              		.file 9 "Drivers/STM32G4xx_HAL_Driver/Inc/stm32g4xx_ll_usart.h"
 936              		.file 10 "Drivers/STM32G4xx_HAL_Driver/Inc/stm32g4xx_ll_dma.h"
 937              		.file 11 "MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_pos_fdbk.h"
 938              		.file 12 "MCSDK_v6.1.0-Full/MotorControl/MCSDK/MCLib/Any/Inc/virtual_speed_sensor.h"
ARM GAS  /tmp/cc2oXrP5.s 			page 29


ARM GAS  /tmp/cc2oXrP5.s 			page 30


DEFINED SYMBOLS
                            *ABS*:0000000000000000 virtual_speed_sensor.c
     /tmp/cc2oXrP5.s:18     .text.VSS_Clear:0000000000000000 $t
     /tmp/cc2oXrP5.s:26     .text.VSS_Clear:0000000000000000 VSS_Clear
     /tmp/cc2oXrP5.s:90     .text.VSS_Init:0000000000000000 $t
     /tmp/cc2oXrP5.s:97     .text.VSS_Init:0000000000000000 VSS_Init
     /tmp/cc2oXrP5.s:118    .text.VSS_CalcElAngle:0000000000000000 $t
     /tmp/cc2oXrP5.s:125    .text.VSS_CalcElAngle:0000000000000000 VSS_CalcElAngle
     /tmp/cc2oXrP5.s:317    .text.VSS_CalcAvrgMecSpeedUnit:0000000000000000 $t
     /tmp/cc2oXrP5.s:324    .text.VSS_CalcAvrgMecSpeedUnit:0000000000000000 VSS_CalcAvrgMecSpeedUnit
     /tmp/cc2oXrP5.s:463    .text.VSS_SetMecAngle:0000000000000000 $t
     /tmp/cc2oXrP5.s:470    .text.VSS_SetMecAngle:0000000000000000 VSS_SetMecAngle
     /tmp/cc2oXrP5.s:497    .text.VSS_SetMecAcceleration:0000000000000000 $t
     /tmp/cc2oXrP5.s:504    .text.VSS_SetMecAcceleration:0000000000000000 VSS_SetMecAcceleration
     /tmp/cc2oXrP5.s:655    .text.VSS_SetMecAcceleration:0000000000000084 $d
     /tmp/cc2oXrP5.s:660    .text.VSS_RampCompleted:0000000000000000 $t
     /tmp/cc2oXrP5.s:667    .text.VSS_RampCompleted:0000000000000000 VSS_RampCompleted
     /tmp/cc2oXrP5.s:699    .text.VSS_GetLastRampFinalSpeed:0000000000000000 $t
     /tmp/cc2oXrP5.s:706    .text.VSS_GetLastRampFinalSpeed:0000000000000000 VSS_GetLastRampFinalSpeed
     /tmp/cc2oXrP5.s:724    .text.VSS_SetStartTransition:0000000000000000 $t
     /tmp/cc2oXrP5.s:731    .text.VSS_SetStartTransition:0000000000000000 VSS_SetStartTransition
     /tmp/cc2oXrP5.s:786    .text.VSS_IsTransitionOngoing:0000000000000000 $t
     /tmp/cc2oXrP5.s:793    .text.VSS_IsTransitionOngoing:0000000000000000 VSS_IsTransitionOngoing
     /tmp/cc2oXrP5.s:850    .text.VSS_TransitionEnded:0000000000000000 $t
     /tmp/cc2oXrP5.s:857    .text.VSS_TransitionEnded:0000000000000000 VSS_TransitionEnded
     /tmp/cc2oXrP5.s:875    .text.VSS_SetCopyObserver:0000000000000000 $t
     /tmp/cc2oXrP5.s:882    .text.VSS_SetCopyObserver:0000000000000000 VSS_SetCopyObserver
     /tmp/cc2oXrP5.s:900    .text.VSS_SetElAngle:0000000000000000 $t
     /tmp/cc2oXrP5.s:907    .text.VSS_SetElAngle:0000000000000000 VSS_SetElAngle

UNDEFINED SYMBOLS
SPD_IsMecSpeedReliable
